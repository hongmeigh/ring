document.createElement('video');document.createElement('audio');document.createElement('track');var vjs=function(id,options,ready){var tag;if(typeof id==='string'){if(id.indexOf('#')===0){id=id.slice(1)}if(vjs.players[id]){if(options){vjs.log.warn('Player "'+id+'" is already initialised. Options will not be applied.')}if(ready){vjs.players[id].ready(ready)}return vjs.players[id]}else{tag=vjs.el(id)}}else{tag=id}if(!tag||!tag.nodeName){throw new TypeError('The element or ID supplied is not valid. (videojs)');}return tag['player']||new vjs.Player(tag,options,ready)};var videojs=window['videojs']=vjs;vjs.CDN_VERSION='4.12';vjs.ACCESS_PROTOCOL=('https:'==document.location.protocol?'https://':'http://');vjs['VERSION']='4.12.11';vjs.options={'techOrder':['html5','flash'],'html5':{},'flash':{},'width':300,'height':150,'defaultVolume':0.00,'playbackRates':[],'inactivityTimeout':2000,'children':{'mediaLoader':{},'posterImage':{},'loadingSpinner':{},'textTrackDisplay':{},'bigPlayButton':{},'controlBar':{},'errorDisplay':{},'textTrackSettings':{}},'language':document.getElementsByTagName('html')[0].getAttribute('lang')||navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language||'en','languages':{},'notSupportedMessage':'No compatible source was found for this video.'};if(vjs.CDN_VERSION!=='GENERATED'+'_CDN_VSN'){videojs.options['flash']['swf']=vjs.ACCESS_PROTOCOL+'vjs.zencdn.net/'+vjs.CDN_VERSION+'/video-js.swf'}vjs.addLanguage=function(code,data){if(vjs.options['languages'][code]!==undefined){vjs.options['languages'][code]=vjs.util.mergeOptions(vjs.options['languages'][code],data)}else{vjs.options['languages'][code]=data}return vjs.options['languages']};vjs.players={};if(typeof define==='function'&&define['amd']){define('videojs',[],function(){return videojs})}else if(typeof exports==='object'&&typeof module==='object'){module['exports']=videojs}vjs.CoreObject=vjs['CoreObject']=function(){};vjs.CoreObject.extend=function(props){var init,subObj;props=props||{};init=props['init']||props.init||this.prototype['init']||this.prototype.init||function(){};subObj=function(){init.apply(this,arguments)};subObj.prototype=vjs.obj.create(this.prototype);subObj.prototype.constructor=subObj;subObj.extend=vjs.CoreObject.extend;subObj.create=vjs.CoreObject.create;for(var name in props){if(props.hasOwnProperty(name)){subObj.prototype[name]=props[name]}}return subObj};vjs.CoreObject.create=function(){var inst=vjs.obj.create(this.prototype);this.apply(inst,arguments);return inst};vjs.on=function(elem,type,fn){if(vjs.obj.isArray(type)){return _handleMultipleEvents(vjs.on,elem,type,fn)}var data=vjs.getData(elem);if(!data.handlers)data.handlers={};if(!data.handlers[type])data.handlers[type]=[];if(!fn.guid)fn.guid=vjs.guid++;data.handlers[type].push(fn);if(!data.dispatcher){data.disabled=false;data.dispatcher=function(event){if(data.disabled)return;event=vjs.fixEvent(event);var handlers=data.handlers[event.type];if(handlers){var handlersCopy=handlers.slice(0);for(var m=0,n=handlersCopy.length;m<n;m++){if(event.isImmediatePropagationStopped()){break}else{handlersCopy[m].call(elem,event)}}}}}if(data.handlers[type].length==1){if(elem.addEventListener){elem.addEventListener(type,data.dispatcher,false)}else if(elem.attachEvent){elem.attachEvent('on'+type,data.dispatcher)}}};vjs.off=function(elem,type,fn){if(!vjs.hasData(elem))return;var data=vjs.getData(elem);if(!data.handlers){return}if(vjs.obj.isArray(type)){return _handleMultipleEvents(vjs.off,elem,type,fn)}var removeType=function(t){data.handlers[t]=[];vjs.cleanUpEvents(elem,t)};if(!type){for(var t in data.handlers)removeType(t);return}var handlers=data.handlers[type];if(!handlers)return;if(!fn){removeType(type);return}if(fn.guid){for(var n=0;n<handlers.length;n++){if(handlers[n].guid===fn.guid){handlers.splice(n--,1)}}}vjs.cleanUpEvents(elem,type)};vjs.cleanUpEvents=function(elem,type){var data=vjs.getData(elem);if(data.handlers[type].length===0){delete data.handlers[type];if(elem.removeEventListener){elem.removeEventListener(type,data.dispatcher,false)}else if(elem.detachEvent){elem.detachEvent('on'+type,data.dispatcher)}}if(vjs.isEmpty(data.handlers)){delete data.handlers;delete data.dispatcher;delete data.disabled}if(vjs.isEmpty(data)){vjs.removeData(elem)}};vjs.fixEvent=function(event){function returnTrue(){return true}function returnFalse(){return false}if(!event||!event.isPropagationStopped){var old=event||window.event;event={};for(var key in old){if(key!=='layerX'&&key!=='layerY'&&key!=='keyLocation'){if(!(key=='returnValue'&&old.preventDefault)){event[key]=old[key]}}}if(!event.target){event.target=event.srcElement||document}event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement;event.preventDefault=function(){if(old.preventDefault){old.preventDefault()}event.returnValue=false;event.isDefaultPrevented=returnTrue;event.defaultPrevented=true};event.isDefaultPrevented=returnFalse;event.defaultPrevented=false;event.stopPropagation=function(){if(old.stopPropagation){old.stopPropagation()}event.cancelBubble=true;event.isPropagationStopped=returnTrue};event.isPropagationStopped=returnFalse;event.stopImmediatePropagation=function(){if(old.stopImmediatePropagation){old.stopImmediatePropagation()}event.isImmediatePropagationStopped=returnTrue;event.stopPropagation()};event.isImmediatePropagationStopped=returnFalse;if(event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}event.which=event.charCode||event.keyCode;if(event.button!=null){event.button=(event.button&1?0:(event.button&4?1:(event.button&2?2:0)))}}return event};vjs.trigger=function(elem,event){var elemData=(vjs.hasData(elem))?vjs.getData(elem):{};var parent=elem.parentNode||elem.ownerDocument;if(typeof event==='string'){event={type:event,target:elem}}event=vjs.fixEvent(event);if(elemData.dispatcher){elemData.dispatcher.call(elem,event)}if(parent&&!event.isPropagationStopped()&&event.bubbles!==false){vjs.trigger(parent,event)}else if(!parent&&!event.defaultPrevented){var targetData=vjs.getData(event.target);if(event.target[event.type]){targetData.disabled=true;if(typeof event.target[event.type]==='function'){event.target[event.type]()}targetData.disabled=false}}return!event.defaultPrevented};vjs.one=function(elem,type,fn){if(vjs.obj.isArray(type)){return _handleMultipleEvents(vjs.one,elem,type,fn)}var func=function(){vjs.off(elem,type,func);fn.apply(this,arguments)};func.guid=fn.guid=fn.guid||vjs.guid++;vjs.on(elem,type,func)};function _handleMultipleEvents(fn,elem,type,callback){vjs.arr.forEach(type,function(type){fn(elem,type,callback)})}var hasOwnProp=Object.prototype.hasOwnProperty;vjs.createEl=function(tagName,properties){var el;tagName=tagName||'div';properties=properties||{};el=document.createElement(tagName);vjs.obj.each(properties,function(propName,val){if(propName.indexOf('aria-')!==-1||propName=='role'){el.setAttribute(propName,val)}else{el[propName]=val}});return el};vjs.capitalize=function(string){return string.charAt(0).toUpperCase()+string.slice(1)};vjs.obj={};vjs.obj.create=Object.create||function(obj){function F(){}F.prototype=obj;return new F()};vjs.obj.each=function(obj,fn,context){for(var key in obj){if(hasOwnProp.call(obj,key)){fn.call(context||this,key,obj[key])}}};vjs.obj.merge=function(obj1,obj2){if(!obj2){return obj1}for(var key in obj2){if(hasOwnProp.call(obj2,key)){obj1[key]=obj2[key]}}return obj1};vjs.obj.deepMerge=function(obj1,obj2){var key,val1,val2;obj1=vjs.obj.copy(obj1);for(key in obj2){if(hasOwnProp.call(obj2,key)){val1=obj1[key];val2=obj2[key];if(vjs.obj.isPlain(val1)&&vjs.obj.isPlain(val2)){obj1[key]=vjs.obj.deepMerge(val1,val2)}else{obj1[key]=obj2[key]}}}return obj1};vjs.obj.copy=function(obj){return vjs.obj.merge({},obj)};vjs.obj.isPlain=function(obj){return!!obj&&typeof obj==='object'&&obj.toString()==='[object Object]'&&obj.constructor===Object};vjs.obj.isArray=Array.isArray||function(arr){return Object.prototype.toString.call(arr)==='[object Array]'};vjs.isNaN=function(num){return num!==num};vjs.bind=function(context,fn,uid){if(!fn.guid){fn.guid=vjs.guid++}var ret=function(){return fn.apply(context,arguments)};ret.guid=(uid)?uid+'_'+fn.guid:fn.guid;return ret};vjs.cache={};vjs.guid=1;vjs.expando='vdata'+(new Date()).getTime();vjs.getData=function(el){var id=el[vjs.expando];if(!id){id=el[vjs.expando]=vjs.guid++}if(!vjs.cache[id]){vjs.cache[id]={}}return vjs.cache[id]};vjs.hasData=function(el){var id=el[vjs.expando];return!(!id||vjs.isEmpty(vjs.cache[id]))};vjs.removeData=function(el){var id=el[vjs.expando];if(!id){return}delete vjs.cache[id];try{delete el[vjs.expando]}catch(e){if(el.removeAttribute){el.removeAttribute(vjs.expando)}else{el[vjs.expando]=null}}};vjs.isEmpty=function(obj){for(var prop in obj){if(obj[prop]!==null){return false}}return true};vjs.hasClass=function(element,classToCheck){return((' '+element.className+' ').indexOf(' '+classToCheck+' ')!==-1)};vjs.addClass=function(element,classToAdd){if(!vjs.hasClass(element,classToAdd)){element.className=element.className===''?classToAdd:element.className+' '+classToAdd}};vjs.removeClass=function(element,classToRemove){var classNames,i;if(!vjs.hasClass(element,classToRemove)){return}classNames=element.className.split(' ');for(i=classNames.length-1;i>=0;i--){if(classNames[i]===classToRemove){classNames.splice(i,1)}}element.className=classNames.join(' ')};vjs.TEST_VID=vjs.createEl('video');(function(){var track=document.createElement('track');track.kind='captions';track.srclang='en';track.label='English';vjs.TEST_VID.appendChild(track)})();vjs.USER_AGENT=navigator.userAgent;vjs.IS_IPHONE=(/iPhone/i).test(vjs.USER_AGENT);vjs.IS_IPAD=(/iPad/i).test(vjs.USER_AGENT);vjs.IS_IPOD=(/iPod/i).test(vjs.USER_AGENT);vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD;vjs.IOS_VERSION=(function(){var match=vjs.USER_AGENT.match(/OS (\d+)_/i);if(match&&match[1]){return match[1]}})();vjs.IS_ANDROID=(/Android/i).test(vjs.USER_AGENT);vjs.ANDROID_VERSION=(function(){var match=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),major,minor;if(!match){return null}major=match[1]&&parseFloat(match[1]);minor=match[2]&&parseFloat(match[2]);if(major&&minor){return parseFloat(match[1]+'.'+match[2])}else if(major){return major}else{return null}})();vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&(/webkit/i).test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3;vjs.IS_FIREFOX=(/Firefox/i).test(vjs.USER_AGENT);vjs.IS_CHROME=(/Chrome/i).test(vjs.USER_AGENT);vjs.IS_IE8=(/MSIE\s8\.0/).test(vjs.USER_AGENT);vjs.TOUCH_ENABLED=!!(('ontouchstart'in window)||window.DocumentTouch&&document instanceof window.DocumentTouch);vjs.BACKGROUND_SIZE_SUPPORTED='backgroundSize'in vjs.TEST_VID.style;vjs.setElementAttributes=function(el,attributes){vjs.obj.each(attributes,function(attrName,attrValue){if(attrValue===null||typeof attrValue==='undefined'||attrValue===false){el.removeAttribute(attrName)}else{el.setAttribute(attrName,(attrValue===true?'':attrValue))}})};vjs.getElementAttributes=function(tag){var obj,knownBooleans,attrs,attrName,attrVal;obj={};knownBooleans=','+'autoplay,controls,loop,muted,default'+',';if(tag&&tag.attributes&&tag.attributes.length>0){attrs=tag.attributes;for(var i=attrs.length-1;i>=0;i--){attrName=attrs[i].name;attrVal=attrs[i].value;if(typeof tag[attrName]==='boolean'||knownBooleans.indexOf(','+attrName+',')!==-1){attrVal=(attrVal!==null)?true:false}obj[attrName]=attrVal}}return obj};vjs.getComputedDimension=function(el,strCssRule){var strValue='';if(document.defaultView&&document.defaultView.getComputedStyle){strValue=document.defaultView.getComputedStyle(el,'').getPropertyValue(strCssRule)}else if(el.currentStyle){strValue=el['client'+strCssRule.substr(0,1).toUpperCase()+strCssRule.substr(1)]+'px'}return strValue};vjs.insertFirst=function(child,parent){if(parent.firstChild){parent.insertBefore(child,parent.firstChild)}else{parent.appendChild(child)}};vjs.browser={};vjs.el=function(id){if(id.indexOf('#')===0){id=id.slice(1)}return document.getElementById(id)};vjs.formatTime=function(seconds,guide){guide=guide||seconds;var s=Math.floor(seconds%60),m=Math.floor(seconds/60%60),h=Math.floor(seconds/3600),gm=Math.floor(guide/60%60),gh=Math.floor(guide/3600);if(isNaN(seconds)||seconds===Infinity){h=m=s='-'}h=(h>0||gh>0)?h+':':'';m=(((h||gm>=10)&&m<10)?'0'+m:m)+':';s=(s<10)?'0'+s:s;return h+m+s};vjs.blockTextSelection=function(){document.body.focus();document.onselectstart=function(){return false}};vjs.unblockTextSelection=function(){document.onselectstart=function(){return true}};vjs.trim=function(str){return(str+'').replace(/^\s+|\s+$/g,'')};vjs.round=function(num,dec){if(!dec){dec=0}return Math.round(num*Math.pow(10,dec))/Math.pow(10,dec)};vjs.createTimeRange=function(start,end){if(start===undefined&&end===undefined){return{length:0,start:function(){throw new Error('This TimeRanges object is empty');},end:function(){throw new Error('This TimeRanges object is empty');}}}return{length:1,start:function(){return start},end:function(){return end}}};vjs.setLocalStorage=function(key,value){try{var localStorage=window.localStorage||false;if(!localStorage){return}localStorage[key]=value}catch(e){if(e.code==22||e.code==1014){vjs.log('LocalStorage Full (VideoJS)',e)}else{if(e.code==18){vjs.log('LocalStorage not allowed (VideoJS)',e)}else{vjs.log('LocalStorage Error (VideoJS)',e)}}}};vjs.getAbsoluteURL=function(url){if(!url.match(/^https?:\/\//)){url=vjs.createEl('div',{innerHTML:'<a href="'+url+'">x</a>'}).firstChild.href}return url};vjs.parseUrl=function(url){var div,a,addToBody,props,details;props=['protocol','hostname','port','pathname','search','hash','host'];a=vjs.createEl('a',{href:url});addToBody=(a.host===''&&a.protocol!=='file:');if(addToBody){div=vjs.createEl('div');div.innerHTML='<a href="'+url+'"></a>';a=div.firstChild;div.setAttribute('style','display:none; position:absolute;');document.body.appendChild(div)}details={};for(var i=0;i<props.length;i++){details[props[i]]=a[props[i]]}if(details.protocol==='http:'){details.host=details.host.replace(/:80$/,'')}if(details.protocol==='https:'){details.host=details.host.replace(/:443$/,'')}if(addToBody){document.body.removeChild(div)}return details};function _logType(type,args){var argsArray,noop,console;argsArray=Array.prototype.slice.call(args);noop=function(){};console=window['console']||{'log':noop,'warn':noop,'error':noop};if(type){argsArray.unshift(type.toUpperCase()+':')}else{type='log'}vjs.log.history.push(argsArray);argsArray.unshift('VIDEOJS:');if(console[type].apply){console[type].apply(console,argsArray)}else{console[type](argsArray.join(' '))}}vjs.log=function(){_logType(null,arguments)};vjs.log.history=[];vjs.log.error=function(){_logType('error',arguments)};vjs.log.warn=function(){_logType('warn',arguments)};vjs.findPosition=function(el){var box,docEl,body,clientLeft,scrollLeft,left,clientTop,scrollTop,top;if(el.getBoundingClientRect&&el.parentNode){box=el.getBoundingClientRect()}if(!box){return{left:0,top:0}}docEl=document.documentElement;body=document.body;clientLeft=docEl.clientLeft||body.clientLeft||0;scrollLeft=window.pageXOffset||body.scrollLeft;left=box.left+scrollLeft-clientLeft;clientTop=docEl.clientTop||body.clientTop||0;scrollTop=window.pageYOffset||body.scrollTop;top=box.top+scrollTop-clientTop;return{left:vjs.round(left),top:vjs.round(top)}};vjs.arr={};vjs.arr.forEach=function(array,callback,thisArg){if(vjs.obj.isArray(array)&&callback instanceof Function){for(var i=0,len=array.length;i<len;++i){callback.call(thisArg||vjs,array[i],i,array)}}return array};vjs.xhr=function(options,callback){var XHR,request,urlInfo,winLoc,fileUrl,crossOrigin,abortTimeout,successHandler,errorHandler;if(typeof options==='string'){options={uri:options}}videojs.util.mergeOptions({method:'GET',timeout:45*1000},options);callback=callback||function(){};successHandler=function(){window.clearTimeout(abortTimeout);callback(null,request,request.response||request.responseText)};errorHandler=function(err){window.clearTimeout(abortTimeout);if(!err||typeof err==='string'){err=new Error(err)}callback(err,request)};XHR=window.XMLHttpRequest;if(typeof XHR==='undefined'){XHR=function(){try{return new window.ActiveXObject('Msxml2.XMLHTTP.6.0')}catch(e){}try{return new window.ActiveXObject('Msxml2.XMLHTTP.3.0')}catch(f){}try{return new window.ActiveXObject('Msxml2.XMLHTTP')}catch(g){}throw new Error('This browser does not support XMLHttpRequest.');}}request=new XHR();request.uri=options.uri;urlInfo=vjs.parseUrl(options.uri);winLoc=window.location;crossOrigin=(urlInfo.protocol+urlInfo.host)!==(winLoc.protocol+winLoc.host);if(crossOrigin&&window.XDomainRequest&&!('withCredentials'in request)){request=new window.XDomainRequest();request.onload=successHandler;request.onerror=errorHandler;request.onprogress=function(){};request.ontimeout=function(){}}else{fileUrl=(urlInfo.protocol=='file:'||winLoc.protocol=='file:');request.onreadystatechange=function(){if(request.readyState===4){if(request.timedout){return errorHandler('timeout')}if(request.status===200||fileUrl&&request.status===0){successHandler()}else{errorHandler()}}};if(options.timeout){abortTimeout=window.setTimeout(function(){if(request.readyState!==4){request.timedout=true;request.abort()}},options.timeout)}}try{request.open(options.method||'GET',options.uri,true)}catch(err){return errorHandler(err)}if(options.withCredentials){request.withCredentials=true}if(options.responseType){request.responseType=options.responseType}try{request.send()}catch(err){return errorHandler(err)}return request};vjs.util={};vjs.util.mergeOptions=function(obj1,obj2){var key,val1,val2;obj1=vjs.obj.copy(obj1);for(key in obj2){if(obj2.hasOwnProperty(key)){val1=obj1[key];val2=obj2[key];if(vjs.obj.isPlain(val1)&&vjs.obj.isPlain(val2)){obj1[key]=vjs.util.mergeOptions(val1,val2)}else{obj1[key]=obj2[key]}}}return obj1};vjs.EventEmitter=function(){};vjs.EventEmitter.prototype.allowedEvents_={};vjs.EventEmitter.prototype.on=function(type,fn){var ael=this.addEventListener;this.addEventListener=Function.prototype;vjs.on(this,type,fn);this.addEventListener=ael};vjs.EventEmitter.prototype.addEventListener=vjs.EventEmitter.prototype.on;vjs.EventEmitter.prototype.off=function(type,fn){vjs.off(this,type,fn)};vjs.EventEmitter.prototype.removeEventListener=vjs.EventEmitter.prototype.off;vjs.EventEmitter.prototype.one=function(type,fn){vjs.one(this,type,fn)};vjs.EventEmitter.prototype.trigger=function(event){var type=event.type||event;if(typeof event==='string'){event={type:type}}event=vjs.fixEvent(event);if(this.allowedEvents_[type]&&this['on'+type]){this['on'+type](event)}vjs.trigger(this,event)};vjs.EventEmitter.prototype.dispatchEvent=vjs.EventEmitter.prototype.trigger;vjs.Component=vjs.CoreObject.extend({init:function(player,options,ready){this.player_=player;this.options_=vjs.obj.copy(this.options_);options=this.options(options);this.id_=options['id']||(options['el']&&options['el']['id']);if(!this.id_){this.id_=((player.id&&player.id())||'no_player')+'_component_'+vjs.guid++}this.name_=options['name']||null;this.el_=options['el']||this.createEl();this.children_=[];this.childIndex_={};this.childNameIndex_={};this.initChildren();this.ready(ready);if(options.reportTouchActivity!==false){this.enableTouchActivity()}}});vjs.Component.prototype.dispose=function(){this.trigger({type:'dispose','bubbles':false});if(this.children_){for(var i=this.children_.length-1;i>=0;i--){if(this.children_[i].dispose){this.children_[i].dispose()}}}this.children_=null;this.childIndex_=null;this.childNameIndex_=null;this.off();if(this.el_.parentNode){this.el_.parentNode.removeChild(this.el_)}vjs.removeData(this.el_);this.el_=null};vjs.Component.prototype.player_=true;vjs.Component.prototype.player=function(){return this.player_};vjs.Component.prototype.options_;vjs.Component.prototype.options=function(obj){if(obj===undefined)return this.options_;return this.options_=vjs.util.mergeOptions(this.options_,obj)};vjs.Component.prototype.el_;vjs.Component.prototype.createEl=function(tagName,attributes){return vjs.createEl(tagName,attributes)};vjs.Component.prototype.localize=function(string){var lang=this.player_.language(),languages=this.player_.languages();if(languages&&languages[lang]&&languages[lang][string]){return languages[lang][string]}return string};vjs.Component.prototype.el=function(){return this.el_};vjs.Component.prototype.contentEl_;vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_};vjs.Component.prototype.id_;vjs.Component.prototype.id=function(){return this.id_};vjs.Component.prototype.name_;vjs.Component.prototype.name=function(){return this.name_};vjs.Component.prototype.children_;vjs.Component.prototype.children=function(){return this.children_};vjs.Component.prototype.childIndex_;vjs.Component.prototype.getChildById=function(id){return this.childIndex_[id]};vjs.Component.prototype.childNameIndex_;vjs.Component.prototype.getChild=function(name){return this.childNameIndex_[name]};vjs.Component.prototype.addChild=function(child,options){var component,componentClass,componentName;if(typeof child==='string'){componentName=child;options=options||{};componentClass=options['componentClass']||vjs.capitalize(componentName);options['name']=componentName;component=new window['videojs'][componentClass](this.player_||this,options)}else{component=child}this.children_.push(component);if(typeof component.id==='function'){this.childIndex_[component.id()]=component}componentName=componentName||(component.name&&component.name());if(componentName){this.childNameIndex_[componentName]=component}if(typeof component['el']==='function'&&component['el']()){this.contentEl().appendChild(component['el']())}return component};vjs.Component.prototype.removeChild=function(component){if(typeof component==='string'){component=this.getChild(component)}if(!component||!this.children_)return;var childFound=false;for(var i=this.children_.length-1;i>=0;i--){if(this.children_[i]===component){childFound=true;this.children_.splice(i,1);break}}if(!childFound)return;this.childIndex_[component.id()]=null;this.childNameIndex_[component.name()]=null;var compEl=component.el();if(compEl&&compEl.parentNode===this.contentEl()){this.contentEl().removeChild(component.el())}};vjs.Component.prototype.initChildren=function(){var parent,parentOptions,children,child,name,opts,handleAdd;parent=this;parentOptions=parent.options();children=parentOptions['children'];if(children){handleAdd=function(name,opts){if(parentOptions[name]!==undefined){opts=parentOptions[name]}if(opts===false)return;parent[name]=parent.addChild(name,opts)};if(vjs.obj.isArray(children)){for(var i=0;i<children.length;i++){child=children[i];if(typeof child=='string'){name=child;opts={}}else{name=child.name;opts=child}handleAdd(name,opts)}}else{vjs.obj.each(children,handleAdd)}}};vjs.Component.prototype.buildCSSClass=function(){return''};vjs.Component.prototype.on=function(first,second,third){var target,type,fn,removeOnDispose,cleanRemover,thisComponent;if(typeof first==='string'||vjs.obj.isArray(first)){vjs.on(this.el_,first,vjs.bind(this,second))}else{target=first;type=second;fn=vjs.bind(this,third);thisComponent=this;removeOnDispose=function(){thisComponent.off(target,type,fn)};removeOnDispose.guid=fn.guid;this.on('dispose',removeOnDispose);cleanRemover=function(){thisComponent.off('dispose',removeOnDispose)};cleanRemover.guid=fn.guid;if(first.nodeName){vjs.on(target,type,fn);vjs.on(target,'dispose',cleanRemover)}else if(typeof first.on==='function'){target.on(type,fn);target.on('dispose',cleanRemover)}}return this};vjs.Component.prototype.off=function(first,second,third){var target,otherComponent,type,fn,otherEl;if(!first||typeof first==='string'||vjs.obj.isArray(first)){vjs.off(this.el_,first,second)}else{target=first;type=second;fn=vjs.bind(this,third);this.off('dispose',fn);if(first.nodeName){vjs.off(target,type,fn);vjs.off(target,'dispose',fn)}else{target.off(type,fn);target.off('dispose',fn)}}return this};vjs.Component.prototype.one=function(first,second,third){var target,type,fn,thisComponent,newFunc;if(typeof first==='string'||vjs.obj.isArray(first)){vjs.one(this.el_,first,vjs.bind(this,second))}else{target=first;type=second;fn=vjs.bind(this,third);thisComponent=this;newFunc=function(){thisComponent.off(target,type,newFunc);fn.apply(this,arguments)};newFunc.guid=fn.guid;this.on(target,type,newFunc)}return this};vjs.Component.prototype.trigger=function(event){vjs.trigger(this.el_,event);return this};vjs.Component.prototype.isReady_;vjs.Component.prototype.isReadyOnInitFinish_=true;vjs.Component.prototype.readyQueue_;vjs.Component.prototype.ready=function(fn){if(fn){if(this.isReady_){fn.call(this)}else{if(this.readyQueue_===undefined){this.readyQueue_=[]}this.readyQueue_.push(fn)}}return this};vjs.Component.prototype.triggerReady=function(){this.isReady_=true;var readyQueue=this.readyQueue_;if(readyQueue&&readyQueue.length>0){for(var i=0,j=readyQueue.length;i<j;i++){readyQueue[i].call(this)}this.readyQueue_=[];this.trigger('ready')}};vjs.Component.prototype.hasClass=function(classToCheck){return vjs.hasClass(this.el_,classToCheck)};vjs.Component.prototype.addClass=function(classToAdd){vjs.addClass(this.el_,classToAdd);return this};vjs.Component.prototype.removeClass=function(classToRemove){vjs.removeClass(this.el_,classToRemove);return this};vjs.Component.prototype.show=function(){this.removeClass('vjs-hidden');return this};vjs.Component.prototype.hide=function(){this.addClass('vjs-hidden');return this};vjs.Component.prototype.lockShowing=function(){this.addClass('vjs-lock-showing');return this};vjs.Component.prototype.unlockShowing=function(){this.removeClass('vjs-lock-showing');return this};vjs.Component.prototype.disable=function(){this.hide();this.show=function(){}};vjs.Component.prototype.width=function(num,skipListeners){return this.dimension('width',num,skipListeners)};vjs.Component.prototype.height=function(num,skipListeners){return this.dimension('height',num,skipListeners)};vjs.Component.prototype.dimensions=function(width,height){return this.width(width,true).height(height)};vjs.Component.prototype.dimension=function(widthOrHeight,num,skipListeners){if(num!==undefined){if(num===null||vjs.isNaN(num)){num=0}if((''+num).indexOf('%')!==-1||(''+num).indexOf('px')!==-1){this.el_.style[widthOrHeight]=num}else if(num==='auto'){this.el_.style[widthOrHeight]=''}else{this.el_.style[widthOrHeight]=num+'px'}if(!skipListeners){this.trigger('resize')}return this}if(!this.el_)return 0;var val=this.el_.style[widthOrHeight];var pxIndex=val.indexOf('px');if(pxIndex!==-1){return parseInt(val.slice(0,pxIndex),10)}else{return parseInt(this.el_['offset'+vjs.capitalize(widthOrHeight)],10)}};vjs.Component.prototype.onResize;vjs.Component.prototype.emitTapEvents=function(){var touchStart,firstTouch,touchTime,couldBeTap,noTap,xdiff,ydiff,touchDistance,tapMovementThreshold,touchTimeThreshold;touchStart=0;firstTouch=null;tapMovementThreshold=10;touchTimeThreshold=200;this.on('touchstart',function(event){if(event.touches.length===1){firstTouch=vjs.obj.copy(event.touches[0]);touchStart=new Date().getTime();couldBeTap=true}});this.on('touchmove',function(event){if(event.touches.length>1){couldBeTap=false}else if(firstTouch){xdiff=event.touches[0].pageX-firstTouch.pageX;ydiff=event.touches[0].pageY-firstTouch.pageY;touchDistance=Math.sqrt(xdiff*xdiff+ydiff*ydiff);if(touchDistance>tapMovementThreshold){couldBeTap=false}}});noTap=function(){couldBeTap=false};this.on('touchleave',noTap);this.on('touchcancel',noTap);this.on('touchend',function(event){firstTouch=null;if(couldBeTap===true){touchTime=new Date().getTime()-touchStart;if(touchTime<touchTimeThreshold){event.preventDefault();this.trigger('tap')}}})};vjs.Component.prototype.enableTouchActivity=function(){var report,touchHolding,touchEnd;if(!this.player().reportUserActivity){return}report=vjs.bind(this.player(),this.player().reportUserActivity);this.on('touchstart',function(){report();this.clearInterval(touchHolding);touchHolding=this.setInterval(report,250)});touchEnd=function(event){report();this.clearInterval(touchHolding)};this.on('touchmove',report);this.on('touchend',touchEnd);this.on('touchcancel',touchEnd)};vjs.Component.prototype.setTimeout=function(fn,timeout){fn=vjs.bind(this,fn);var timeoutId=setTimeout(fn,timeout);var disposeFn=function(){this.clearTimeout(timeoutId)};disposeFn.guid='vjs-timeout-'+timeoutId;this.on('dispose',disposeFn);return timeoutId};vjs.Component.prototype.clearTimeout=function(timeoutId){clearTimeout(timeoutId);var disposeFn=function(){};disposeFn.guid='vjs-timeout-'+timeoutId;this.off('dispose',disposeFn);return timeoutId};vjs.Component.prototype.setInterval=function(fn,interval){fn=vjs.bind(this,fn);var intervalId=setInterval(fn,interval);var disposeFn=function(){this.clearInterval(intervalId)};disposeFn.guid='vjs-interval-'+intervalId;this.on('dispose',disposeFn);return intervalId};vjs.Component.prototype.clearInterval=function(intervalId){clearInterval(intervalId);var disposeFn=function(){};disposeFn.guid='vjs-interval-'+intervalId;this.off('dispose',disposeFn);return intervalId};vjs.Button=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);this.emitTapEvents();this.on('tap',this.onClick);this.on('click',this.onClick);this.on('focus',this.onFocus);this.on('blur',this.onBlur)}});vjs.Button.prototype.createEl=function(type,props){var el;props=vjs.obj.merge({className:this.buildCSSClass(),'role':'button','aria-live':'polite',tabIndex:0},props);el=vjs.Component.prototype.createEl.call(this,type,props);if(!props.innerHTML){this.contentEl_=vjs.createEl('div',{className:'vjs-control-content'});this.controlText_=vjs.createEl('span',{className:'vjs-control-text',innerHTML:this.localize(this.buttonText)||'Need Text'});this.contentEl_.appendChild(this.controlText_);el.appendChild(this.contentEl_)}return el};vjs.Button.prototype.buildCSSClass=function(){return'vjs-control '+vjs.Component.prototype.buildCSSClass.call(this)};vjs.Button.prototype.onClick=function(){};vjs.Button.prototype.onFocus=function(){vjs.on(document,'keydown',vjs.bind(this,this.onKeyPress))};vjs.Button.prototype.onKeyPress=function(event){if(event.which==32||event.which==13){event.preventDefault();this.onClick()}};vjs.Button.prototype.onBlur=function(){vjs.off(document,'keydown',vjs.bind(this,this.onKeyPress))};vjs.Slider=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);this.bar=this.getChild(this.options_['barName']);this.handle=this.getChild(this.options_['handleName']);this.on('mousedown',this.onMouseDown);this.on('touchstart',this.onMouseDown);this.on('focus',this.onFocus);this.on('blur',this.onBlur);this.on('click',this.onClick);this.on(player,'controlsvisible',this.update);this.on(player,this.playerEvent,this.update)}});vjs.Slider.prototype.createEl=function(type,props){props=props||{};props.className=props.className+' vjs-slider';props=vjs.obj.merge({'role':'slider','aria-valuenow':0,'aria-valuemin':0,'aria-valuemax':100,tabIndex:0},props);return vjs.Component.prototype.createEl.call(this,type,props)};vjs.Slider.prototype.onMouseDown=function(event){event.preventDefault();vjs.blockTextSelection();this.addClass('vjs-sliding');this.on(document,'mousemove',this.onMouseMove);this.on(document,'mouseup',this.onMouseUp);this.on(document,'touchmove',this.onMouseMove);this.on(document,'touchend',this.onMouseUp);this.onMouseMove(event)};vjs.Slider.prototype.onMouseMove=function(){};vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection();this.removeClass('vjs-sliding');this.off(document,'mousemove',this.onMouseMove);this.off(document,'mouseup',this.onMouseUp);this.off(document,'touchmove',this.onMouseMove);this.off(document,'touchend',this.onMouseUp);this.update()};vjs.Slider.prototype.update=function(){if(!this.el_)return;var barProgress,progress=this.getPercent(),handle=this.handle,bar=this.bar;if(typeof progress!=='number'||progress!==progress||progress<0||progress===Infinity){progress=0}barProgress=progress;if(handle){var box=this.el_,boxWidth=box.offsetWidth,handleWidth=handle.el().offsetWidth,handlePercent=(handleWidth)?handleWidth/boxWidth:0,boxAdjustedPercent=1-handlePercent,adjustedProgress=progress*boxAdjustedPercent;barProgress=adjustedProgress+(handlePercent/2);handle.el().style.left=vjs.round(adjustedProgress*100,2)+'%'}if(bar){bar.el().style.width=vjs.round(barProgress*100,2)+'%'}};vjs.Slider.prototype.calculateDistance=function(event){var el,box,boxX,boxY,boxW,boxH,handle,pageX,pageY;el=this.el_;box=vjs.findPosition(el);boxW=boxH=el.offsetWidth;handle=this.handle;if(this.options()['vertical']){boxY=box.top;if(event.changedTouches){pageY=event.changedTouches[0].pageY}else{pageY=event.pageY}if(handle){var handleH=handle.el().offsetHeight;boxY=boxY+(handleH/2);boxH=boxH-handleH}return Math.max(0,Math.min(1,((boxY-pageY)+boxH)/boxH))}else{boxX=box.left;if(event.changedTouches){pageX=event.changedTouches[0].pageX}else{pageX=event.pageX}if(handle){var handleW=handle.el().offsetWidth;boxX=boxX+(handleW/2);boxW=boxW-handleW}return Math.max(0,Math.min(1,(pageX-boxX)/boxW))}};vjs.Slider.prototype.onFocus=function(){this.on(document,'keydown',this.onKeyPress)};vjs.Slider.prototype.onKeyPress=function(event){if(event.which==37||event.which==40){event.preventDefault();this.stepBack()}else if(event.which==38||event.which==39){event.preventDefault();this.stepForward()}};vjs.Slider.prototype.onBlur=function(){this.off(document,'keydown',this.onKeyPress)};vjs.Slider.prototype.onClick=function(event){event.stopImmediatePropagation();event.preventDefault()};vjs.SliderHandle=vjs.Component.extend();vjs.SliderHandle.prototype.defaultValue=0;vjs.SliderHandle.prototype.createEl=function(type,props){props=props||{};props.className=props.className+' vjs-slider-handle';props=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+'</span>'},props);return vjs.Component.prototype.createEl.call(this,'div',props)};vjs.Menu=vjs.Component.extend();vjs.Menu.prototype.addItem=function(component){this.addChild(component);component.on('click',vjs.bind(this,function(){this.unlockShowing()}))};vjs.Menu.prototype.createEl=function(){var contentElType=this.options().contentElType||'ul';this.contentEl_=vjs.createEl(contentElType,{className:'vjs-menu-content'});var el=vjs.Component.prototype.createEl.call(this,'div',{append:this.contentEl_,className:'vjs-menu'});el.appendChild(this.contentEl_);vjs.on(el,'click',function(event){event.preventDefault();event.stopImmediatePropagation()});return el};vjs.MenuItem=vjs.Button.extend({init:function(player,options){vjs.Button.call(this,player,options);this.selected(options['selected'])}});vjs.MenuItem.prototype.createEl=function(type,props){return vjs.Button.prototype.createEl.call(this,'li',vjs.obj.merge({className:'vjs-menu-item',innerHTML:this.localize(this.options_['label'])},props))};vjs.MenuItem.prototype.onClick=function(){this.selected(true)};vjs.MenuItem.prototype.selected=function(selected){if(selected){this.addClass('vjs-selected');this.el_.setAttribute('aria-selected',true)}else{this.removeClass('vjs-selected');this.el_.setAttribute('aria-selected',false)}};vjs.MenuButton=vjs.Button.extend({init:function(player,options){vjs.Button.call(this,player,options);this.update();this.on('keydown',this.onKeyPress);this.el_.setAttribute('aria-haspopup',true);this.el_.setAttribute('role','button')}});vjs.MenuButton.prototype.update=function(){var menu=this.createMenu();if(this.menu){this.removeChild(this.menu)}this.menu=menu;this.addChild(menu);if(this.items&&this.items.length===0){this.hide()}else if(this.items&&this.items.length>1){this.show()}};vjs.MenuButton.prototype.buttonPressed_=false;vjs.MenuButton.prototype.createMenu=function(){var menu=new vjs.Menu(this.player_);if(this.options().title){menu.contentEl().appendChild(vjs.createEl('li',{className:'vjs-menu-title',innerHTML:vjs.capitalize(this.options().title),tabindex:-1}))}this.items=this['createItems']();if(this.items){for(var i=0;i<this.items.length;i++){menu.addItem(this.items[i])}}return menu};vjs.MenuButton.prototype.createItems=function(){};vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+' vjs-menu-button '+vjs.Button.prototype.buildCSSClass.call(this)};vjs.MenuButton.prototype.onFocus=function(){};vjs.MenuButton.prototype.onBlur=function(){};vjs.MenuButton.prototype.onClick=function(){this.one('mouseout',vjs.bind(this,function(){this.menu.unlockShowing();this.el_.blur()}));if(this.buttonPressed_){this.unpressButton()}else{this.pressButton()}};vjs.MenuButton.prototype.onKeyPress=function(event){if(event.which==32||event.which==13){if(this.buttonPressed_){this.unpressButton()}else{this.pressButton()}event.preventDefault()}else if(event.which==27){if(this.buttonPressed_){this.unpressButton()}event.preventDefault()}};vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=true;this.menu.lockShowing();this.el_.setAttribute('aria-pressed',true);if(this.items&&this.items.length>0){this.items[0].el().focus()}};vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=false;this.menu.unlockShowing();this.el_.setAttribute('aria-pressed',false)};vjs.MediaError=function(code){if(typeof code==='number'){this.code=code}else if(typeof code==='string'){this.message=code}else if(typeof code==='object'){vjs.obj.merge(this,code)}if(!this.message){this.message=vjs.MediaError.defaultMessages[this.code]||''}};vjs.MediaError.prototype.code=0;vjs.MediaError.prototype.message='';vjs.MediaError.prototype.status=null;vjs.MediaError.errorTypes=['MEDIA_ERR_CUSTOM','MEDIA_ERR_ABORTED','MEDIA_ERR_NETWORK','MEDIA_ERR_DECODE','MEDIA_ERR_SRC_NOT_SUPPORTED','MEDIA_ERR_ENCRYPTED'];vjs.MediaError.defaultMessages={1:'You aborted the video playback',2:'A network error caused the video download to fail part-way.',3:'The video playback was aborted due to a corruption problem or because the video used features your browser did not support.',4:'The video could not be loaded, either because the server or network failed or because the format is not supported.',5:'The video is encrypted and we do not have the keys to decrypt it.'};for(var errNum=0;errNum<vjs.MediaError.errorTypes.length;errNum++){vjs.MediaError[vjs.MediaError.errorTypes[errNum]]=errNum;vjs.MediaError.prototype[vjs.MediaError.errorTypes[errNum]]=errNum}(function(){var apiMap,specApi,browserApi,i;vjs.browser.fullscreenAPI;apiMap=[['requestFullscreen','exitFullscreen','fullscreenElement','fullscreenEnabled','fullscreenchange','fullscreenerror'],['webkitRequestFullscreen','webkitExitFullscreen','webkitFullscreenElement','webkitFullscreenEnabled','webkitfullscreenchange','webkitfullscreenerror'],['webkitRequestFullScreen','webkitCancelFullScreen','webkitCurrentFullScreenElement','webkitCancelFullScreen','webkitfullscreenchange','webkitfullscreenerror'],['mozRequestFullScreen','mozCancelFullScreen','mozFullScreenElement','mozFullScreenEnabled','mozfullscreenchange','mozfullscreenerror'],['msRequestFullscreen','msExitFullscreen','msFullscreenElement','msFullscreenEnabled','MSFullscreenChange','MSFullscreenError']];specApi=apiMap[0];for(i=0;i<apiMap.length;i++){if(apiMap[i][1]in document){browserApi=apiMap[i];break}}if(browserApi){vjs.browser.fullscreenAPI={};for(i=0;i<browserApi.length;i++){vjs.browser.fullscreenAPI[specApi[i]]=browserApi[i]}}})();vjs.Player=vjs.Component.extend({init:function(tag,options,ready){this.tag=tag;tag.id=tag.id||'vjs_video_'+vjs.guid++;this.tagAttributes=tag&&vjs.getElementAttributes(tag);options=vjs.obj.merge(this.getTagSettings(tag),options);this.language_=options['language']||vjs.options['language'];this.languages_=options['languages']||vjs.options['languages'];this.cache_={};this.poster_=options['poster']||'';this.controls_=!!options['controls'];tag.controls=false;options.reportTouchActivity=false;this.isAudio(this.tag.nodeName.toLowerCase()==='audio');vjs.Component.call(this,this,options,ready);if(this.controls()){this.addClass('vjs-controls-enabled')}else{this.addClass('vjs-controls-disabled')}if(this.isAudio()){this.addClass('vjs-audio')}vjs.players[this.id_]=this;if(options['plugins']){vjs.obj.each(options['plugins'],function(key,val){this[key](val)},this)}this.listenForUserActivity()}});vjs.Player.prototype.language_;vjs.Player.prototype.language=function(languageCode){if(languageCode===undefined){return this.language_}this.language_=languageCode;return this};vjs.Player.prototype.languages_;vjs.Player.prototype.languages=function(){return this.languages_};vjs.Player.prototype.options_=vjs.options;vjs.Player.prototype.dispose=function(){this.trigger('dispose');this.off('dispose');vjs.players[this.id_]=null;if(this.tag&&this.tag['player']){this.tag['player']=null}if(this.el_&&this.el_['player']){this.el_['player']=null}if(this.tech){this.tech.dispose()}vjs.Component.prototype.dispose.call(this)};vjs.Player.prototype.getTagSettings=function(tag){var tagOptions,dataSetup,options={'sources':[],'tracks':[]};tagOptions=vjs.getElementAttributes(tag);dataSetup=tagOptions['data-setup'];if(dataSetup!==null){vjs.obj.merge(tagOptions,vjs.JSON.parse(dataSetup||'{}'))}vjs.obj.merge(options,tagOptions);if(tag.hasChildNodes()){var children,child,childName,i,j;children=tag.childNodes;for(i=0,j=children.length;i<j;i++){child=children[i];childName=child.nodeName.toLowerCase();if(childName==='source'){options['sources'].push(vjs.getElementAttributes(child))}else if(childName==='track'){options['tracks'].push(vjs.getElementAttributes(child))}}}return options};vjs.Player.prototype.createEl=function(){var el=this.el_=vjs.Component.prototype.createEl.call(this,'div'),tag=this.tag,attrs;tag.removeAttribute('width');tag.removeAttribute('height');attrs=vjs.getElementAttributes(tag);vjs.obj.each(attrs,function(attr){if(attr=='class'){el.className=attrs[attr]}else{el.setAttribute(attr,attrs[attr])}});tag.id+='_html5_api';tag.className='vjs-tech';tag['player']=el['player']=this;this.addClass('vjs-paused');this.width(this.options_['width'],true);this.height(this.options_['height'],true);tag.initNetworkState_=tag.networkState;if(tag.parentNode){tag.parentNode.insertBefore(el,tag)}vjs.insertFirst(tag,el);this.el_=el;this.on('loadstart',this.onLoadStart);this.on('waiting',this.onWaiting);this.on(['canplay','canplaythrough','playing','ended'],this.onWaitEnd);this.on('seeking',this.onSeeking);this.on('seeked',this.onSeeked);this.on('ended',this.onEnded);this.on('play',this.onPlay);this.on('firstplay',this.onFirstPlay);this.on('pause',this.onPause);this.on('progress',this.onProgress);this.on('durationchange',this.onDurationChange);this.on('fullscreenchange',this.onFullscreenChange);return el};vjs.Player.prototype.loadTech=function(techName,source){if(this.tech){this.unloadTech()}if(techName!=='Html5'&&this.tag){vjs.Html5.disposeMediaElement(this.tag);this.tag=null}this.techName=techName;this.isReady_=false;var techReady=function(){this.player_.triggerReady()};var techOptions=vjs.obj.merge({'source':source,'parentEl':this.el_},this.options_[techName.toLowerCase()]);if(source){this.currentType_=source.type;if(source.src==this.cache_.src&&this.cache_.currentTime>0){techOptions['startTime']=this.cache_.currentTime}this.cache_.src=source.src}this.tech=new window['videojs'][techName](this,techOptions);this.tech.ready(techReady)};vjs.Player.prototype.unloadTech=function(){this.isReady_=false;this.tech.dispose();this.tech=false};vjs.Player.prototype.onLoadStart=function(){this.removeClass('vjs-ended');this.error(null);if(!this.paused()){this.trigger('firstplay')}else{this.hasStarted(false)}};vjs.Player.prototype.hasStarted_=false;vjs.Player.prototype.hasStarted=function(hasStarted){if(hasStarted!==undefined){if(this.hasStarted_!==hasStarted){this.hasStarted_=hasStarted;if(hasStarted){this.addClass('vjs-has-started');this.trigger('firstplay')}else{this.removeClass('vjs-has-started')}}return this}return this.hasStarted_};vjs.Player.prototype.onLoadedMetaData;vjs.Player.prototype.onLoadedData;vjs.Player.prototype.onLoadedAllData;vjs.Player.prototype.onPlay=function(){this.removeClass('vjs-ended');this.removeClass('vjs-paused');this.addClass('vjs-playing');this.hasStarted(true)};vjs.Player.prototype.onWaiting=function(){this.addClass('vjs-waiting')};vjs.Player.prototype.onWaitEnd=function(){this.removeClass('vjs-waiting')};vjs.Player.prototype.onSeeking=function(){this.addClass('vjs-seeking')};vjs.Player.prototype.onSeeked=function(){this.removeClass('vjs-seeking')};vjs.Player.prototype.onFirstPlay=function(){if(this.options_['starttime']){this.currentTime(this.options_['starttime'])}this.addClass('vjs-has-started')};vjs.Player.prototype.onPause=function(){this.removeClass('vjs-playing');this.addClass('vjs-paused')};vjs.Player.prototype.onTimeUpdate;vjs.Player.prototype.onProgress=function(){if(this.bufferedPercent()==1){this.trigger('loadedalldata')}};vjs.Player.prototype.onEnded=function(){this.addClass('vjs-ended');if(this.options_['loop']){this.currentTime(0);this.play()}else if(!this.paused()){this.pause()}};vjs.Player.prototype.onDurationChange=function(){var duration=this.techGet('duration');if(duration){if(duration<0){duration=Infinity}this.duration(duration);if(duration===Infinity){this.addClass('vjs-live')}else{this.removeClass('vjs-live')}}};vjs.Player.prototype.onVolumeChange;vjs.Player.prototype.onFullscreenChange=function(){if(this.isFullscreen()){this.addClass('vjs-fullscreen')}else{this.removeClass('vjs-fullscreen')}};vjs.Player.prototype.onError;vjs.Player.prototype.cache_;vjs.Player.prototype.getCache=function(){return this.cache_};vjs.Player.prototype.techCall=function(method,arg){if(this.tech&&!this.tech.isReady_){this.tech.ready(function(){this[method](arg)})}else{try{this.tech[method](arg)}catch(e){vjs.log(e);throw e;}}};vjs.Player.prototype.techGet=function(method){if(this.tech&&this.tech.isReady_){try{return this.tech[method]()}catch(e){if(this.tech[method]===undefined){vjs.log('Video.js: '+method+' method not defined for '+this.techName+' playback technology.',e)}else{if(e.name=='TypeError'){vjs.log('Video.js: '+method+' unavailable on '+this.techName+' playback technology element.',e);this.tech.isReady_=false}else{vjs.log(e)}}throw e;}}return};vjs.Player.prototype.play=function(){this.techCall('play');return this};vjs.Player.prototype.pause=function(){this.techCall('pause');return this};vjs.Player.prototype.paused=function(){return(this.techGet('paused')===false)?false:true};vjs.Player.prototype.currentTime=function(seconds){if(seconds!==undefined){this.techCall('setCurrentTime',seconds);return this}return this.cache_.currentTime=(this.techGet('currentTime')||0)};vjs.Player.prototype.duration=function(seconds){if(seconds!==undefined){this.cache_.duration=parseFloat(seconds);return this}if(this.cache_.duration===undefined){this.onDurationChange()}return this.cache_.duration||0};vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()};vjs.Player.prototype.buffered=function(){var buffered=this.techGet('buffered');if(!buffered||!buffered.length){buffered=vjs.createTimeRange(0,0)}return buffered};vjs.Player.prototype.bufferedPercent=function(){var duration=this.duration(),buffered=this.buffered(),bufferedDuration=0,start,end;if(!duration){return 0}for(var i=0;i<buffered.length;i++){start=buffered.start(i);end=buffered.end(i);if(end>duration){end=duration}bufferedDuration+=end-start}return bufferedDuration/duration};vjs.Player.prototype.bufferedEnd=function(){var buffered=this.buffered(),duration=this.duration(),end=buffered.end(buffered.length-1);if(end>duration){end=duration}return end};vjs.Player.prototype.volume=function(percentAsDecimal){var vol;if(percentAsDecimal!==undefined){vol=Math.max(0,Math.min(1,parseFloat(percentAsDecimal)));this.cache_.volume=vol;this.techCall('setVolume',vol);vjs.setLocalStorage('volume',vol);return this}vol=parseFloat(this.techGet('volume'));return(isNaN(vol))?1:vol};vjs.Player.prototype.muted=function(muted){if(muted!==undefined){this.techCall('setMuted',muted);return this}return this.techGet('muted')||false};vjs.Player.prototype.supportsFullScreen=function(){return this.techGet('supportsFullScreen')||false};vjs.Player.prototype.isFullscreen_=false;vjs.Player.prototype.isFullscreen=function(isFS){if(isFS!==undefined){this.isFullscreen_=!!isFS;return this}return this.isFullscreen_};vjs.Player.prototype.isFullScreen=function(isFS){vjs.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")');return this.isFullscreen(isFS)};vjs.Player.prototype.requestFullscreen=function(){var fsApi=vjs.browser.fullscreenAPI;this.isFullscreen(true);if(fsApi){vjs.on(document,fsApi['fullscreenchange'],vjs.bind(this,function(e){this.isFullscreen(document[fsApi.fullscreenElement]);if(this.isFullscreen()===false){vjs.off(document,fsApi['fullscreenchange'],arguments.callee)}this.trigger('fullscreenchange')}));this.el_[fsApi.requestFullscreen]()}else if(this.tech.supportsFullScreen()){this.techCall('enterFullScreen')}else{this.enterFullWindow();this.trigger('fullscreenchange')}return this};vjs.Player.prototype.requestFullScreen=function(){vjs.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")');return this.requestFullscreen()};vjs.Player.prototype.exitFullscreen=function(){var fsApi=vjs.browser.fullscreenAPI;this.isFullscreen(false);if(fsApi){document[fsApi.exitFullscreen]()}else if(this.tech.supportsFullScreen()){this.techCall('exitFullScreen')}else{this.exitFullWindow();this.trigger('fullscreenchange')}return this};vjs.Player.prototype.cancelFullScreen=function(){vjs.log.warn('player.cancelFullScreen() has been deprecated, use player.exitFullscreen()');return this.exitFullscreen()};vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=true;this.docOrigOverflow=document.documentElement.style.overflow;vjs.on(document,'keydown',vjs.bind(this,this.fullWindowOnEscKey));document.documentElement.style.overflow='hidden';vjs.addClass(document.body,'vjs-full-window');this.trigger('enterFullWindow')};vjs.Player.prototype.fullWindowOnEscKey=function(event){if(event.keyCode===27){if(this.isFullscreen()===true){this.exitFullscreen()}else{this.exitFullWindow()}}};vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=false;vjs.off(document,'keydown',this.fullWindowOnEscKey);document.documentElement.style.overflow=this.docOrigOverflow;vjs.removeClass(document.body,'vjs-full-window');this.trigger('exitFullWindow')};vjs.Player.prototype.selectSource=function(sources){for(var i=0,j=this.options_['techOrder'];i<j.length;i++){var techName=vjs.capitalize(j[i]),tech=window['videojs'][techName];if(!tech){vjs.log.error('The "'+techName+'" tech is undefined. Skipped browser support check for that tech.');continue}if(tech.isSupported()){for(var a=0,b=sources;a<b.length;a++){var source=b[a];if(tech['canPlaySource'](source)){return{source:source,tech:techName}}}}}return false};vjs.Player.prototype.src=function(source){if(source===undefined){return this.techGet('src')}if(vjs.obj.isArray(source)){this.sourceList_(source)}else if(typeof source==='string'){this.src({src:source})}else if(source instanceof Object){if(source.type&&!window['videojs'][this.techName]['canPlaySource'](source)){this.sourceList_([source])}else{this.cache_.src=source.src;this.currentType_=source.type||'';this.ready(function(){if(window['videojs'][this.techName].prototype.hasOwnProperty('setSource')){this.techCall('setSource',source)}else{this.techCall('src',source.src)}if(this.options_['preload']=='auto'){this.load()}if(this.options_['autoplay']){this.play()}})}}return this};vjs.Player.prototype.sourceList_=function(sources){var sourceTech=this.selectSource(sources);if(sourceTech){if(sourceTech.tech===this.techName){this.src(sourceTech.source)}else{this.loadTech(sourceTech.tech,sourceTech.source)}}else{this.setTimeout(function(){this.error({code:4,message:this.localize(this.options()['notSupportedMessage'])})},0);this.triggerReady()}};vjs.Player.prototype.load=function(){this.techCall('load');return this};vjs.Player.prototype.currentSrc=function(){return this.techGet('currentSrc')||this.cache_.src||''};vjs.Player.prototype.currentType=function(){return this.currentType_||''};vjs.Player.prototype.preload=function(value){if(value!==undefined){this.techCall('setPreload',value);this.options_['preload']=value;return this}return this.techGet('preload')};vjs.Player.prototype.autoplay=function(value){if(value!==undefined){this.techCall('setAutoplay',value);this.options_['autoplay']=value;return this}return this.techGet('autoplay',value)};vjs.Player.prototype.loop=function(value){if(value!==undefined){this.techCall('setLoop',value);this.options_['loop']=value;return this}return this.techGet('loop')};vjs.Player.prototype.poster_;vjs.Player.prototype.poster=function(src){if(src===undefined){return this.poster_}if(!src){src=''}this.poster_=src;this.techCall('setPoster',src);this.trigger('posterchange');return this};vjs.Player.prototype.controls_;vjs.Player.prototype.controls=function(bool){if(bool!==undefined){bool=!!bool;if(this.controls_!==bool){this.controls_=bool;if(bool){this.removeClass('vjs-controls-disabled');this.addClass('vjs-controls-enabled');this.trigger('controlsenabled')}else{this.removeClass('vjs-controls-enabled');this.addClass('vjs-controls-disabled');this.trigger('controlsdisabled')}}return this}return this.controls_};vjs.Player.prototype.usingNativeControls_;vjs.Player.prototype.usingNativeControls=function(bool){if(bool!==undefined){bool=!!bool;if(this.usingNativeControls_!==bool){this.usingNativeControls_=bool;if(bool){this.addClass('vjs-using-native-controls');this.trigger('usingnativecontrols')}else{this.removeClass('vjs-using-native-controls');this.trigger('usingcustomcontrols')}}return this}return this.usingNativeControls_};vjs.Player.prototype.error_=null;vjs.Player.prototype.error=function(err){if(err===undefined){return this.error_}if(err===null){this.error_=err;this.removeClass('vjs-error');return this}if(err instanceof vjs.MediaError){this.error_=err}else{this.error_=new vjs.MediaError(err)}this.trigger('error');this.addClass('vjs-error');vjs.log.error('(CODE:'+this.error_.code+' '+vjs.MediaError.errorTypes[this.error_.code]+')',this.error_.message,this.error_);return this};vjs.Player.prototype.ended=function(){return this.techGet('ended')};vjs.Player.prototype.seeking=function(){return this.techGet('seeking')};vjs.Player.prototype.seekable=function(){return this.techGet('seekable')};vjs.Player.prototype.userActivity_=true;vjs.Player.prototype.reportUserActivity=function(event){this.userActivity_=true};vjs.Player.prototype.userActive_=true;vjs.Player.prototype.userActive=function(bool){if(bool!==undefined){bool=!!bool;if(bool!==this.userActive_){this.userActive_=bool;if(bool){this.userActivity_=true;this.removeClass('vjs-user-inactive');this.addClass('vjs-user-active');this.trigger('useractive')}else{this.userActivity_=false;if(this.tech){this.tech.one('mousemove',function(e){e.stopPropagation();e.preventDefault()})}this.removeClass('vjs-user-active');this.addClass('vjs-user-inactive');this.trigger('userinactive')}}return this}return this.userActive_};vjs.Player.prototype.listenForUserActivity=function(){var onActivity,onMouseMove,onMouseDown,mouseInProgress,onMouseUp,activityCheck,inactivityTimeout,lastMoveX,lastMoveY;onActivity=vjs.bind(this,this.reportUserActivity);onMouseMove=function(e){if(e.screenX!=lastMoveX||e.screenY!=lastMoveY){lastMoveX=e.screenX;lastMoveY=e.screenY;onActivity()}};onMouseDown=function(){onActivity();this.clearInterval(mouseInProgress);mouseInProgress=this.setInterval(onActivity,250)};onMouseUp=function(event){onActivity();this.clearInterval(mouseInProgress)};this.on('mousedown',onMouseDown);this.on('mousemove',onMouseMove);this.on('mouseup',onMouseUp);this.on('keydown',onActivity);this.on('keyup',onActivity);activityCheck=this.setInterval(function(){if(this.userActivity_){this.userActivity_=false;this.userActive(true);this.clearTimeout(inactivityTimeout);var timeout=this.options()['inactivityTimeout'];if(timeout>0){inactivityTimeout=this.setTimeout(function(){if(!this.userActivity_){this.userActive(false)}},timeout)}}},250)};vjs.Player.prototype.playbackRate=function(rate){if(rate!==undefined){this.techCall('setPlaybackRate',rate);return this}if(this.tech&&this.tech['featuresPlaybackRate']){return this.techGet('playbackRate')}else{return 1.0}};vjs.Player.prototype.isAudio_=false;vjs.Player.prototype.isAudio=function(bool){if(bool!==undefined){this.isAudio_=!!bool;return this}return this.isAudio_};vjs.Player.prototype.networkState=function(){return this.techGet('networkState')};vjs.Player.prototype.readyState=function(){return this.techGet('readyState')};vjs.Player.prototype.textTracks=function(){return this.tech&&this.tech['textTracks']()};vjs.Player.prototype.remoteTextTracks=function(){return this.tech&&this.tech['remoteTextTracks']()};vjs.Player.prototype.addTextTrack=function(kind,label,language){return this.tech&&this.tech['addTextTrack'](kind,label,language)};vjs.Player.prototype.addRemoteTextTrack=function(options){return this.tech&&this.tech['addRemoteTextTrack'](options)};vjs.Player.prototype.removeRemoteTextTrack=function(track){this.tech&&this.tech['removeRemoteTextTrack'](track)};vjs.ControlBar=vjs.Component.extend();vjs.ControlBar.prototype.options_={loadEvent:'play',children:{'playToggle':{},'currentTimeDisplay':{},'timeDivider':{},'durationDisplay':{},'remainingTimeDisplay':{},'liveDisplay':{},'progressControl':{},'fullscreenToggle':{},'volumeControl':{},'muteToggle':{},'playbackRateMenuButton':{},'subtitlesButton':{},'captionsButton':{},'chaptersButton':{}}};vjs.ControlBar.prototype.createEl=function(){return vjs.createEl('div',{className:'vjs-control-bar'})};vjs.LiveDisplay=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options)}});vjs.LiveDisplay.prototype.createEl=function(){var el=vjs.Component.prototype.createEl.call(this,'div',{className:'vjs-live-controls vjs-control'});this.contentEl_=vjs.createEl('div',{className:'vjs-live-display',innerHTML:'<span class="vjs-control-text">'+this.localize('Stream Type')+'</span>'+this.localize('LIVE'),'aria-live':'off'});el.appendChild(this.contentEl_);return el};vjs.PlayToggle=vjs.Button.extend({init:function(player,options){vjs.Button.call(this,player,options);this.on(player,'play',this.onPlay);this.on(player,'pause',this.onPause)}});vjs.PlayToggle.prototype.buttonText='Play';vjs.PlayToggle.prototype.buildCSSClass=function(){return'vjs-play-control '+vjs.Button.prototype.buildCSSClass.call(this)};vjs.PlayToggle.prototype.onClick=function(){if(this.player_.paused()){this.player_.play();document.getElementsByClassName("vjs-big-play-button")[0].style.display="none"}else{this.player_.pause();document.getElementsByClassName("vjs-big-play-button")[0].style.display="block"}};vjs.PlayToggle.prototype.onPlay=function(){this.removeClass('vjs-paused');this.addClass('vjs-playing');this.el_.children[0].children[0].innerHTML=this.localize('Pause')};vjs.PlayToggle.prototype.onPause=function(){this.removeClass('vjs-playing');this.addClass('vjs-paused');this.el_.children[0].children[0].innerHTML=this.localize('Play')};vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);this.on(player,'timeupdate',this.updateContent)}});vjs.CurrentTimeDisplay.prototype.createEl=function(){var el=vjs.Component.prototype.createEl.call(this,'div',{className:'vjs-current-time vjs-time-controls vjs-control'});this.contentEl_=vjs.createEl('div',{className:'vjs-current-time-display',innerHTML:'<span class="vjs-control-text">Current Time </span>'+'0:00','aria-live':'off'});el.appendChild(this.contentEl_);return el};vjs.CurrentTimeDisplay.prototype.updateContent=function(){var time=(this.player_.scrubbing)?this.player_.getCache().currentTime:this.player_.currentTime();this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize('Current Time')+'</span> '+vjs.formatTime(time,this.player_.duration())};vjs.DurationDisplay=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);this.on(player,'timeupdate',this.updateContent);this.on(player,'loadedmetadata',this.updateContent)}});vjs.DurationDisplay.prototype.createEl=function(){var el=vjs.Component.prototype.createEl.call(this,'div',{className:'vjs-duration vjs-time-controls vjs-control'});this.contentEl_=vjs.createEl('div',{className:'vjs-duration-display',innerHTML:'<span class="vjs-control-text">'+this.localize('Duration Time')+'</span> '+'0:00','aria-live':'off'});el.appendChild(this.contentEl_);return el};vjs.DurationDisplay.prototype.updateContent=function(){var duration=this.player_.duration();if(duration){this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize('Duration Time')+'</span> '+vjs.formatTime(duration)}};vjs.TimeDivider=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options)}});vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,'div',{className:'vjs-time-divider',innerHTML:'<div><span>/</span></div>'})};vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);this.on(player,'timeupdate',this.updateContent)}});vjs.RemainingTimeDisplay.prototype.createEl=function(){var el=vjs.Component.prototype.createEl.call(this,'div',{className:'vjs-remaining-time vjs-time-controls vjs-control'});this.contentEl_=vjs.createEl('div',{className:'vjs-remaining-time-display',innerHTML:'<span class="vjs-control-text">'+this.localize('Remaining Time')+'</span> '+'-0:00','aria-live':'off'});el.appendChild(this.contentEl_);return el};vjs.RemainingTimeDisplay.prototype.updateContent=function(){if(this.player_.duration()){this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize('Remaining Time')+'</span> '+'-'+vjs.formatTime(this.player_.remainingTime())}};vjs.FullscreenToggle=vjs.Button.extend({init:function(player,options){vjs.Button.call(this,player,options)}});vjs.FullscreenToggle.prototype.buttonText='Fullscreen';vjs.FullscreenToggle.prototype.buildCSSClass=function(){return'vjs-fullscreen-control '+vjs.Button.prototype.buildCSSClass.call(this)};vjs.FullscreenToggle.prototype.onClick=function(){if(!this.player_.isFullscreen()){this.player_.requestFullscreen();this.controlText_.innerHTML=this.localize('Non-Fullscreen')}else{this.player_.exitFullscreen();this.controlText_.innerHTML=this.localize('Fullscreen')}};vjs.ProgressControl=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options)}});vjs.ProgressControl.prototype.options_={children:{'seekBar':{}}};vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,'div',{className:'vjs-progress-control vjs-control'})};vjs.SeekBar=vjs.Slider.extend({init:function(player,options){vjs.Slider.call(this,player,options);this.on(player,'timeupdate',this.updateARIAAttributes);player.ready(vjs.bind(this,this.updateARIAAttributes))}});vjs.SeekBar.prototype.options_={children:{'loadProgressBar':{},'playProgressBar':{},'seekHandle':{}},'barName':'playProgressBar','handleName':'seekHandle'};vjs.SeekBar.prototype.playerEvent='timeupdate';vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,'div',{className:'vjs-progress-holder','aria-label':'video progress bar'})};vjs.SeekBar.prototype.updateARIAAttributes=function(){var time=(this.player_.scrubbing)?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute('aria-valuenow',vjs.round(this.getPercent()*100,2));this.el_.setAttribute('aria-valuetext',vjs.formatTime(time,this.player_.duration()))};vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()};vjs.SeekBar.prototype.onMouseDown=function(event){vjs.Slider.prototype.onMouseDown.call(this,event);this.player_.scrubbing=true;this.player_.addClass('vjs-scrubbing');this.videoWasPlaying=!this.player_.paused();this.player_.pause()};vjs.SeekBar.prototype.onMouseMove=function(event){var newTime=this.calculateDistance(event)*this.player_.duration();if(newTime==this.player_.duration()){newTime=newTime-0.1}this.player_.currentTime(newTime)};vjs.SeekBar.prototype.onMouseUp=function(event){vjs.Slider.prototype.onMouseUp.call(this,event);this.player_.scrubbing=false;this.player_.removeClass('vjs-scrubbing');if(this.videoWasPlaying){this.player_.play()}};vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)};vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)};vjs.LoadProgressBar=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);this.on(player,'progress',this.update)}});vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,'div',{className:'vjs-load-progress',innerHTML:'<span class="vjs-control-text"><span>'+this.localize('Loaded')+'</span>: 0%</span>'})};vjs.LoadProgressBar.prototype.update=function(){var i,start,end,part,buffered=this.player_.buffered(),duration=this.player_.duration(),bufferedEnd=this.player_.bufferedEnd(),children=this.el_.children,percentify=function(time,end){var percent=(time/end)||0;return(percent*100)+'%'};this.el_.style.width=percentify(bufferedEnd,duration);for(i=0;i<buffered.length;i++){start=buffered.start(i),end=buffered.end(i),part=children[i];if(!part){part=this.el_.appendChild(vjs.createEl())}part.style.left=percentify(start,bufferedEnd);part.style.width=percentify(end-start,bufferedEnd)}for(i=children.length;i>buffered.length;i--){this.el_.removeChild(children[i-1])}};vjs.PlayProgressBar=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options)}});vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,'div',{className:'vjs-play-progress',innerHTML:'<span class="vjs-control-text"><span>'+this.localize('Progress')+'</span>: 0%</span>'})};vjs.SeekHandle=vjs.SliderHandle.extend({init:function(player,options){vjs.SliderHandle.call(this,player,options);this.on(player,'timeupdate',this.updateContent)}});vjs.SeekHandle.prototype.defaultValue='00:00';vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,'div',{className:'vjs-seek-handle','aria-live':'off'})};vjs.SeekHandle.prototype.updateContent=function(){var time=(this.player_.scrubbing)?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.innerHTML='<span class="vjs-control-text">'+vjs.formatTime(time,this.player_.duration())+'</span>'};vjs.VolumeControl=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);if(player.tech&&player.tech['featuresVolumeControl']===false){this.addClass('vjs-hidden')}this.on(player,'loadstart',function(){if(player.tech['featuresVolumeControl']===false){this.addClass('vjs-hidden')}else{this.removeClass('vjs-hidden')}})}});vjs.VolumeControl.prototype.options_={children:{'volumeBar':{}}};vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,'div',{className:'vjs-volume-control vjs-control'})};vjs.VolumeBar=vjs.Slider.extend({init:function(player,options){vjs.Slider.call(this,player,options);this.on(player,'volumechange',this.updateARIAAttributes);player.ready(vjs.bind(this,this.updateARIAAttributes))}});vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute('aria-valuenow',vjs.round(this.player_.volume()*100,2));this.el_.setAttribute('aria-valuetext',vjs.round(this.player_.volume()*100,2)+'%')};vjs.VolumeBar.prototype.options_={children:{'volumeLevel':{},'volumeHandle':{}},'barName':'volumeLevel','handleName':'volumeHandle'};vjs.VolumeBar.prototype.playerEvent='volumechange';vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,'div',{className:'vjs-volume-bar','aria-label':'volume level'})};vjs.VolumeBar.prototype.onMouseMove=function(event){if(this.player_.muted()){this.player_.muted(false)}this.player_.volume(this.calculateDistance(event))};vjs.VolumeBar.prototype.getPercent=function(){if(this.player_.muted()){return 0}else{return this.player_.volume()}};vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+0.1)};vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-0.1)};vjs.VolumeLevel=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options)}});vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,'div',{className:'vjs-volume-level',innerHTML:'<span class="vjs-control-text"></span>'})};vjs.VolumeHandle=vjs.SliderHandle.extend();vjs.VolumeHandle.prototype.defaultValue='00:00';vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,'div',{className:'vjs-volume-handle'})};vjs.MuteToggle=vjs.Button.extend({init:function(player,options){vjs.Button.call(this,player,options);this.on(player,'volumechange',this.update);if(player.tech&&player.tech['featuresVolumeControl']===false){this.addClass('vjs-hidden')}this.on(player,'loadstart',function(){if(player.tech['featuresVolumeControl']===false){this.addClass('vjs-hidden')}else{this.removeClass('vjs-hidden')}})}});vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,'div',{className:'vjs-mute-control vjs-control',innerHTML:'<div><span class="vjs-control-text">'+this.localize('Mute')+'</span></div>'})};vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?false:true)};vjs.MuteToggle.prototype.update=function(){var vol=this.player_.volume(),level=3;if(vol===0||this.player_.muted()){level=0}else if(vol<0.33){level=1}else if(vol<0.67){level=2}if(this.player_.muted()){if(this.el_.children[0].children[0].innerHTML!=this.localize('Unmute')){this.el_.children[0].children[0].innerHTML=this.localize('Unmute')}}else{if(this.el_.children[0].children[0].innerHTML!=this.localize('Mute')){this.el_.children[0].children[0].innerHTML=this.localize('Mute')}}for(var i=0;i<4;i++){vjs.removeClass(this.el_,'vjs-vol-'+i)}vjs.addClass(this.el_,'vjs-vol-'+level)};vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(player,options){vjs.MenuButton.call(this,player,options);this.on(player,'volumechange',this.volumeUpdate);if(player.tech&&player.tech['featuresVolumeControl']===false){this.addClass('vjs-hidden')}this.on(player,'loadstart',function(){if(player.tech['featuresVolumeControl']===false){this.addClass('vjs-hidden')}else{this.removeClass('vjs-hidden')}});this.addClass('vjs-menu-button')}});vjs.VolumeMenuButton.prototype.createMenu=function(){var menu=new vjs.Menu(this.player_,{contentElType:'div'});var vc=new vjs.VolumeBar(this.player_,this.options_['volumeBar']);vc.on('focus',function(){menu.lockShowing()});vc.on('blur',function(){menu.unlockShowing()});menu.addChild(vc);return menu};vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this);vjs.MenuButton.prototype.onClick.call(this)};vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,'div',{className:'vjs-volume-menu-button vjs-menu-button vjs-control',innerHTML:'<div><span class="vjs-control-text">'+this.localize('Mute')+'</span></div>'})};vjs.VolumeMenuButton.prototype.volumeUpdate=vjs.MuteToggle.prototype.update;vjs.PlaybackRateMenuButton=vjs.MenuButton.extend({init:function(player,options){vjs.MenuButton.call(this,player,options);this.updateVisibility();this.updateLabel();this.on(player,'loadstart',this.updateVisibility);this.on(player,'ratechange',this.updateLabel)}});vjs.PlaybackRateMenuButton.prototype.buttonText='Playback Rate';vjs.PlaybackRateMenuButton.prototype.className='vjs-playback-rate';vjs.PlaybackRateMenuButton.prototype.createEl=function(){var el=vjs.MenuButton.prototype.createEl.call(this);this.labelEl_=vjs.createEl('div',{className:'vjs-playback-rate-value',innerHTML:1.0});el.appendChild(this.labelEl_);return el};vjs.PlaybackRateMenuButton.prototype.createMenu=function(){var menu=new vjs.Menu(this.player());var rates=this.player().options()['playbackRates'];if(rates){for(var i=rates.length-1;i>=0;i--){menu.addChild(new vjs.PlaybackRateMenuItem(this.player(),{'rate':rates[i]+'x'}))}}return menu};vjs.PlaybackRateMenuButton.prototype.updateARIAAttributes=function(){this.el().setAttribute('aria-valuenow',this.player().playbackRate())};vjs.PlaybackRateMenuButton.prototype.onClick=function(){var currentRate=this.player().playbackRate();var rates=this.player().options()['playbackRates'];var newRate=rates[0];for(var i=0;i<rates.length;i++){if(rates[i]>currentRate){newRate=rates[i];break}}this.player().playbackRate(newRate)};vjs.PlaybackRateMenuButton.prototype.playbackRateSupported=function(){return this.player().tech&&this.player().tech['featuresPlaybackRate']&&this.player().options()['playbackRates']&&this.player().options()['playbackRates'].length>0};vjs.PlaybackRateMenuButton.prototype.updateVisibility=function(){if(this.playbackRateSupported()){this.removeClass('vjs-hidden')}else{this.addClass('vjs-hidden')}};vjs.PlaybackRateMenuButton.prototype.updateLabel=function(){if(this.playbackRateSupported()){this.labelEl_.innerHTML=this.player().playbackRate()+'x'}};vjs.PlaybackRateMenuItem=vjs.MenuItem.extend({contentElType:'button',init:function(player,options){var label=this.label=options['rate'];var rate=this.rate=parseFloat(label,10);options['label']=label;options['selected']=rate===1;vjs.MenuItem.call(this,player,options);this.on(player,'ratechange',this.update)}});vjs.PlaybackRateMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this);this.player().playbackRate(this.rate)};vjs.PlaybackRateMenuItem.prototype.update=function(){this.selected(this.player().playbackRate()==this.rate)};vjs.PosterImage=vjs.Button.extend({init:function(player,options){vjs.Button.call(this,player,options);this.update();player.on('posterchange',vjs.bind(this,this.update))}});vjs.PosterImage.prototype.dispose=function(){this.player().off('posterchange',this.update);vjs.Button.prototype.dispose.call(this)};vjs.PosterImage.prototype.createEl=function(){var el=vjs.createEl('div',{className:'vjs-poster',tabIndex:-1});if(!vjs.BACKGROUND_SIZE_SUPPORTED){this.fallbackImg_=vjs.createEl('img');el.appendChild(this.fallbackImg_)}return el};vjs.PosterImage.prototype.update=function(){var url=this.player().poster();this.setSrc(url);if(url){this.show()}else{this.hide()}};vjs.PosterImage.prototype.setSrc=function(url){var backgroundImage;if(this.fallbackImg_){this.fallbackImg_.src=url}else{backgroundImage='';if(url){backgroundImage='url("'+url+'")'}this.el_.style.backgroundImage=backgroundImage}};vjs.PosterImage.prototype.onClick=function(){this.player_.play()};vjs.LoadingSpinner=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options)}});vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,'div',{className:'vjs-loading-spinner'})};vjs.BigPlayButton=vjs.Button.extend();vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,'div',{className:'vjs-big-play-button',innerHTML:'<span aria-hidden="true"></span>','aria-label':'play video'})};vjs.BigPlayButton.prototype.onClick=function(){this.player_.play();document.getElementsByClassName("vjs-big-play-button")[0].style.display="none"};vjs.ErrorDisplay=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);this.update();this.on(player,'error',this.update)}});vjs.ErrorDisplay.prototype.createEl=function(){var el=vjs.Component.prototype.createEl.call(this,'div',{className:'vjs-error-display'});this.contentEl_=vjs.createEl('div');el.appendChild(this.contentEl_);return el};vjs.ErrorDisplay.prototype.update=function(){if(this.player().error()){this.contentEl_.innerHTML=this.localize(this.player().error().message)}};(function(){var createTrackHelper;vjs.MediaTechController=vjs.Component.extend({init:function(player,options,ready){options=options||{};options.reportTouchActivity=false;vjs.Component.call(this,player,options,ready);if(!this['featuresProgressEvents']){this.manualProgressOn()}if(!this['featuresTimeupdateEvents']){this.manualTimeUpdatesOn()}this.initControlsListeners();if(!this['featuresNativeTextTracks']){this.emulateTextTracks()}this.initTextTrackListeners()}});vjs.MediaTechController.prototype.initControlsListeners=function(){var player,activateControls;player=this.player();activateControls=function(){if(player.controls()&&!player.usingNativeControls()){this.addControlsListeners()}};this.ready(activateControls);this.on(player,'controlsenabled',activateControls);this.on(player,'controlsdisabled',this.removeControlsListeners);this.ready(function(){if(this.networkState&&this.networkState()>0){this.player().trigger('loadstart')}})};vjs.MediaTechController.prototype.addControlsListeners=function(){var userWasActive;this.on('mousedown',this.onClick);this.on('touchstart',function(event){userWasActive=this.player_.userActive()});this.on('touchmove',function(event){if(userWasActive){this.player().reportUserActivity()}});this.on('touchend',function(event){event.preventDefault()});this.emitTapEvents();this.on('tap',this.onTap)};vjs.MediaTechController.prototype.removeControlsListeners=function(){this.off('tap');this.off('touchstart');this.off('touchmove');this.off('touchleave');this.off('touchcancel');this.off('touchend');this.off('click');this.off('mousedown')};vjs.MediaTechController.prototype.onClick=function(event){if(event.button!==0)return;if(this.player().controls()){if(this.player().paused()){this.player().play();document.getElementsByClassName("vjs-big-play-button")[0].style.display="none"}else{this.player().pause();document.getElementsByClassName("vjs-big-play-button")[0].style.display="block"}}};vjs.MediaTechController.prototype.onTap=function(){this.player().userActive(!this.player().userActive())};vjs.MediaTechController.prototype.manualProgressOn=function(){this.manualProgress=true;this.trackProgress()};vjs.MediaTechController.prototype.manualProgressOff=function(){this.manualProgress=false;this.stopTrackingProgress()};vjs.MediaTechController.prototype.trackProgress=function(){this.progressInterval=this.setInterval(function(){var bufferedPercent=this.player().bufferedPercent();if(this.bufferedPercent_!=bufferedPercent){this.player().trigger('progress')}this.bufferedPercent_=bufferedPercent;if(bufferedPercent===1){this.stopTrackingProgress()}},500)};vjs.MediaTechController.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)};vjs.MediaTechController.prototype.manualTimeUpdatesOn=function(){var player=this.player_;this.manualTimeUpdates=true;this.on(player,'play',this.trackCurrentTime);this.on(player,'pause',this.stopTrackingCurrentTime);this.one('timeupdate',function(){this['featuresTimeupdateEvents']=true;this.manualTimeUpdatesOff()})};vjs.MediaTechController.prototype.manualTimeUpdatesOff=function(){var player=this.player_;this.manualTimeUpdates=false;this.stopTrackingCurrentTime();this.off(player,'play',this.trackCurrentTime);this.off(player,'pause',this.stopTrackingCurrentTime)};vjs.MediaTechController.prototype.trackCurrentTime=function(){if(this.currentTimeInterval){this.stopTrackingCurrentTime()}this.currentTimeInterval=this.setInterval(function(){this.player().trigger('timeupdate')},250)};vjs.MediaTechController.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval);this.player().trigger('timeupdate')};vjs.MediaTechController.prototype.dispose=function(){if(this.manualProgress){this.manualProgressOff()}if(this.manualTimeUpdates){this.manualTimeUpdatesOff()}vjs.Component.prototype.dispose.call(this)};vjs.MediaTechController.prototype.setCurrentTime=function(){if(this.manualTimeUpdates){this.player().trigger('timeupdate')}};vjs.MediaTechController.prototype.initTextTrackListeners=function(){var player=this.player_,tracks,textTrackListChanges=function(){var textTrackDisplay=player.getChild('textTrackDisplay'),controlBar;if(textTrackDisplay){textTrackDisplay.updateDisplay()}};tracks=this.textTracks();if(!tracks){return}tracks.addEventListener('removetrack',textTrackListChanges);tracks.addEventListener('addtrack',textTrackListChanges);this.on('dispose',vjs.bind(this,function(){tracks.removeEventListener('removetrack',textTrackListChanges);tracks.removeEventListener('addtrack',textTrackListChanges)}))};vjs.MediaTechController.prototype.emulateTextTracks=function(){var player=this.player_,textTracksChanges,tracks,script;if(!window['WebVTT']){script=document.createElement('script');script.src=player.options()['vtt.js']||'../node_modules/vtt.js/dist/vtt.js';player.el().appendChild(script);window['WebVTT']=true}tracks=this.textTracks();if(!tracks){return}textTracksChanges=function(){var i,track,textTrackDisplay;textTrackDisplay=player.getChild('textTrackDisplay'),textTrackDisplay.updateDisplay();for(i=0;i<this.length;i++){track=this[i];track.removeEventListener('cuechange',vjs.bind(textTrackDisplay,textTrackDisplay.updateDisplay));if(track.mode==='showing'){track.addEventListener('cuechange',vjs.bind(textTrackDisplay,textTrackDisplay.updateDisplay))}}};tracks.addEventListener('change',textTracksChanges);this.on('dispose',vjs.bind(this,function(){tracks.removeEventListener('change',textTracksChanges)}))};vjs.MediaTechController.prototype.textTracks_;vjs.MediaTechController.prototype.textTracks=function(){this.player_.textTracks_=this.player_.textTracks_||new vjs.TextTrackList();return this.player_.textTracks_};vjs.MediaTechController.prototype.remoteTextTracks=function(){this.player_.remoteTextTracks_=this.player_.remoteTextTracks_||new vjs.TextTrackList();return this.player_.remoteTextTracks_};createTrackHelper=function(self,kind,label,language,options){var tracks=self.textTracks(),track;options=options||{};options['kind']=kind;if(label){options['label']=label}if(language){options['language']=language}options['player']=self.player_;track=new vjs.TextTrack(options);tracks.addTrack_(track);return track};vjs.MediaTechController.prototype.addTextTrack=function(kind,label,language){if(!kind){throw new Error('TextTrack kind is required but was not provided');}return createTrackHelper(this,kind,label,language)};vjs.MediaTechController.prototype.addRemoteTextTrack=function(options){var track=createTrackHelper(this,options['kind'],options['label'],options['language'],options);this.remoteTextTracks().addTrack_(track);return{track:track}};vjs.MediaTechController.prototype.removeRemoteTextTrack=function(track){this.textTracks().removeTrack_(track);this.remoteTextTracks().removeTrack_(track)};vjs.MediaTechController.prototype.setPoster=function(){};vjs.MediaTechController.prototype['featuresVolumeControl']=true;vjs.MediaTechController.prototype['featuresFullscreenResize']=false;vjs.MediaTechController.prototype['featuresPlaybackRate']=false;vjs.MediaTechController.prototype['featuresProgressEvents']=false;vjs.MediaTechController.prototype['featuresTimeupdateEvents']=false;vjs.MediaTechController.prototype['featuresNativeTextTracks']=false;vjs.MediaTechController.withSourceHandlers=function(Tech){Tech.registerSourceHandler=function(handler,index){var handlers=Tech.sourceHandlers;if(!handlers){handlers=Tech.sourceHandlers=[]}if(index===undefined){index=handlers.length}handlers.splice(index,0,handler)};Tech.selectSourceHandler=function(source){var handlers=Tech.sourceHandlers||[],can;for(var i=0;i<handlers.length;i++){can=handlers[i].canHandleSource(source);if(can){return handlers[i]}}return null};Tech.canPlaySource=function(srcObj){var sh=Tech.selectSourceHandler(srcObj);if(sh){return sh.canHandleSource(srcObj)}return''};Tech.prototype.setSource=function(source){var sh=Tech.selectSourceHandler(source);if(!sh){if(Tech.nativeSourceHandler){sh=Tech.nativeSourceHandler}else{vjs.log.error('No source hander found for the current source.')}}this.disposeSourceHandler();this.off('dispose',this.disposeSourceHandler);this.currentSource_=source;this.sourceHandler_=sh.handleSource(source,this);this.on('dispose',this.disposeSourceHandler);return this};Tech.prototype.disposeSourceHandler=function(){if(this.sourceHandler_&&this.sourceHandler_.dispose){this.sourceHandler_.dispose()}}};vjs.media={}})();vjs.Html5=vjs.MediaTechController.extend({init:function(player,options,ready){var nodes,nodesLength,i,node,nodeName,removeNodes;if(options['nativeCaptions']===false||options['nativeTextTracks']===false){this['featuresNativeTextTracks']=false}vjs.MediaTechController.call(this,player,options,ready);this.setupTriggers();var source=options['source'];if(source&&(this.el_.currentSrc!==source.src||(player.tag&&player.tag.initNetworkState_===3))){this.setSource(source)}if(this.el_.hasChildNodes()){nodes=this.el_.childNodes;nodesLength=nodes.length;removeNodes=[];while(nodesLength--){node=nodes[nodesLength];nodeName=node.nodeName.toLowerCase();if(nodeName==='track'){if(!this['featuresNativeTextTracks']){removeNodes.push(node)}else{this.remoteTextTracks().addTrack_(node['track'])}}}for(i=0;i<removeNodes.length;i++){this.el_.removeChild(removeNodes[i])}}if(this['featuresNativeTextTracks']){this.on('loadstart',vjs.bind(this,this.hideCaptions))}if(vjs.TOUCH_ENABLED&&player.options()['nativeControlsForTouch']===true){this.useNativeControls()}player.ready(function(){if(this.src()&&this.tag&&this.options_['autoplay']&&this.paused()){delete this.tag['poster'];this.play()}});this.triggerReady()}});vjs.Html5.prototype.dispose=function(){vjs.Html5.disposeMediaElement(this.el_);vjs.MediaTechController.prototype.dispose.call(this)};vjs.Html5.prototype.createEl=function(){var player=this.player_,track,trackEl,i,el=player.tag,attributes,newEl,clone;if(!el||this['movingMediaElementInDOM']===false){if(el){clone=el.cloneNode(false);vjs.Html5.disposeMediaElement(el);el=clone;player.tag=null}else{el=vjs.createEl('video');attributes=videojs.util.mergeOptions({},player.tagAttributes);if(!vjs.TOUCH_ENABLED||player.options()['nativeControlsForTouch']!==true){delete attributes.controls}vjs.setElementAttributes(el,vjs.obj.merge(attributes,{id:player.id()+'_html5_api','class':'vjs-tech'}))}el['player']=player;if(player.options_.tracks){for(i=0;i<player.options_.tracks.length;i++){track=player.options_.tracks[i];trackEl=document.createElement('track');trackEl.kind=track.kind;trackEl.label=track.label;trackEl.srclang=track.srclang;trackEl.src=track.src;if('default'in track){trackEl.setAttribute('default','default')}el.appendChild(trackEl)}}vjs.insertFirst(el,player.el())}var settingsAttrs=['autoplay','preload','loop','muted'];for(i=settingsAttrs.length-1;i>=0;i--){var attr=settingsAttrs[i];var overwriteAttrs={};if(typeof player.options_[attr]!=='undefined'){overwriteAttrs[attr]=player.options_[attr]}vjs.setElementAttributes(el,overwriteAttrs)}return el};vjs.Html5.prototype.hideCaptions=function(){var tracks=this.el_.querySelectorAll('track'),track,i=tracks.length,kinds={'captions':1,'subtitles':1};while(i--){track=tracks[i].track;if((track&&track['kind']in kinds)&&(!tracks[i]['default'])){track.mode='disabled'}}};vjs.Html5.prototype.setupTriggers=function(){for(var i=vjs.Html5.Events.length-1;i>=0;i--){this.on(vjs.Html5.Events[i],this.eventHandler)}};vjs.Html5.prototype.eventHandler=function(evt){if(evt.type=='error'&&this.error()){this.player().error(this.error().code)}else{evt.bubbles=false;this.player().trigger(evt)}};vjs.Html5.prototype.useNativeControls=function(){var tech,player,controlsOn,controlsOff,cleanUp;tech=this;player=this.player();tech.setControls(player.controls());controlsOn=function(){tech.setControls(true)};controlsOff=function(){tech.setControls(false)};player.on('controlsenabled',controlsOn);player.on('controlsdisabled',controlsOff);cleanUp=function(){player.off('controlsenabled',controlsOn);player.off('controlsdisabled',controlsOff)};tech.on('dispose',cleanUp);player.on('usingcustomcontrols',cleanUp);player.usingNativeControls(true)};vjs.Html5.prototype.play=function(){this.el_.play()};vjs.Html5.prototype.pause=function(){this.el_.pause()};vjs.Html5.prototype.paused=function(){return this.el_.paused};vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime};vjs.Html5.prototype.setCurrentTime=function(seconds){try{this.el_.currentTime=seconds}catch(e){vjs.log(e,'Video is not ready. (Video.js)')}};vjs.Html5.prototype.duration=function(){return this.el_.duration||0};vjs.Html5.prototype.buffered=function(){return this.el_.buffered};vjs.Html5.prototype.volume=function(){return this.el_.volume};vjs.Html5.prototype.setVolume=function(percentAsDecimal){this.el_.volume=percentAsDecimal};vjs.Html5.prototype.muted=function(){return this.el_.muted};vjs.Html5.prototype.setMuted=function(muted){this.el_.muted=muted};vjs.Html5.prototype.width=function(){return this.el_.offsetWidth};vjs.Html5.prototype.height=function(){return this.el_.offsetHeight};vjs.Html5.prototype.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=='function'){if(/Android/.test(vjs.USER_AGENT)||!/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT)){return true}}return false};vjs.Html5.prototype.enterFullScreen=function(){var video=this.el_;if('webkitDisplayingFullscreen'in video){this.one('webkitbeginfullscreen',function(){this.player_.isFullscreen(true);this.one('webkitendfullscreen',function(){this.player_.isFullscreen(false);this.player_.trigger('fullscreenchange')});this.player_.trigger('fullscreenchange')})}if(video.paused&&video.networkState<=video.HAVE_METADATA){this.el_.play();this.setTimeout(function(){video.pause();video.webkitEnterFullScreen()},0)}else{video.webkitEnterFullScreen()}};vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()};vjs.Html5.prototype.returnOriginalIfBlobURI_=function(elementURI,originalURI){var blobURIRegExp=/^blob\:/i;if(originalURI&&elementURI&&blobURIRegExp.test(elementURI)){return originalURI}return elementURI};vjs.Html5.prototype.src=function(src){var elementSrc=this.el_.src;if(src===undefined){return this.returnOriginalIfBlobURI_(elementSrc,this.source_)}else{this.setSrc(src)}};vjs.Html5.prototype.setSrc=function(src){this.el_.src=src};vjs.Html5.prototype.load=function(){this.el_.load()};vjs.Html5.prototype.currentSrc=function(){var elementSrc=this.el_.currentSrc;if(!this.currentSource_){return elementSrc}return this.returnOriginalIfBlobURI_(elementSrc,this.currentSource_.src)};vjs.Html5.prototype.poster=function(){return this.el_.poster};vjs.Html5.prototype.setPoster=function(val){this.el_.poster=val};vjs.Html5.prototype.preload=function(){return this.el_.preload};vjs.Html5.prototype.setPreload=function(val){this.el_.preload=val};vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay};vjs.Html5.prototype.setAutoplay=function(val){this.el_.autoplay=val};vjs.Html5.prototype.controls=function(){return this.el_.controls};vjs.Html5.prototype.setControls=function(val){this.el_.controls=!!val};vjs.Html5.prototype.loop=function(){return this.el_.loop};vjs.Html5.prototype.setLoop=function(val){this.el_.loop=val};vjs.Html5.prototype.error=function(){return this.el_.error};vjs.Html5.prototype.seeking=function(){return this.el_.seeking};vjs.Html5.prototype.seekable=function(){return this.el_.seekable};vjs.Html5.prototype.ended=function(){return this.el_.ended};vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted};vjs.Html5.prototype.playbackRate=function(){return this.el_.playbackRate};vjs.Html5.prototype.setPlaybackRate=function(val){this.el_.playbackRate=val};vjs.Html5.prototype.networkState=function(){return this.el_.networkState};vjs.Html5.prototype.readyState=function(){return this.el_.readyState};vjs.Html5.prototype.textTracks=function(){if(!this['featuresNativeTextTracks']){return vjs.MediaTechController.prototype.textTracks.call(this)}return this.el_.textTracks};vjs.Html5.prototype.addTextTrack=function(kind,label,language){if(!this['featuresNativeTextTracks']){return vjs.MediaTechController.prototype.addTextTrack.call(this,kind,label,language)}return this.el_.addTextTrack(kind,label,language)};vjs.Html5.prototype.addRemoteTextTrack=function(options){if(!this['featuresNativeTextTracks']){return vjs.MediaTechController.prototype.addRemoteTextTrack.call(this,options)}var track=document.createElement('track');options=options||{};if(options['kind']){track['kind']=options['kind']}if(options['label']){track['label']=options['label']}if(options['language']||options['srclang']){track['srclang']=options['language']||options['srclang']}if(options['default']){track['default']=options['default']}if(options['id']){track['id']=options['id']}if(options['src']){track['src']=options['src']}this.el().appendChild(track);if(track.track['kind']==='metadata'){track['track']['mode']='hidden'}else{track['track']['mode']='disabled'}track['onload']=function(){var tt=track['track'];if(track.readyState>=2){if(tt['kind']==='metadata'&&tt['mode']!=='hidden'){tt['mode']='hidden'}else if(tt['kind']!=='metadata'&&tt['mode']!=='disabled'){tt['mode']='disabled'}track['onload']=null}};this.remoteTextTracks().addTrack_(track.track);return track};vjs.Html5.prototype.removeRemoteTextTrack=function(track){if(!this['featuresNativeTextTracks']){return vjs.MediaTechController.prototype.removeRemoteTextTrack.call(this,track)}var tracks,i;this.remoteTextTracks().removeTrack_(track);tracks=this.el()['querySelectorAll']('track');for(i=0;i<tracks.length;i++){if(tracks[i]===track||tracks[i]['track']===track){tracks[i]['parentNode']['removeChild'](tracks[i]);break}}};vjs.Html5.isSupported=function(){try{vjs.TEST_VID['volume']=0.5}catch(e){return false}return!!vjs.TEST_VID.canPlayType};vjs.MediaTechController.withSourceHandlers(vjs.Html5);(function(){var origSetSource=vjs.Html5.prototype.setSource,origDisposeSourceHandler=vjs.Html5.prototype.disposeSourceHandler;vjs.Html5.prototype.setSource=function(source){var retVal=origSetSource.call(this,source);this.source_=source.src;return retVal};vjs.Html5.prototype.disposeSourceHandler=function(){this.source_=undefined;return origDisposeSourceHandler.call(this)}})();vjs.Html5.nativeSourceHandler={};vjs.Html5.nativeSourceHandler.canHandleSource=function(source){var match,ext;function canPlayType(type){try{return vjs.TEST_VID.canPlayType(type)}catch(e){return''}}if(source.type){return canPlayType(source.type)}else if(source.src){match=source.src.match(/\.([^.\/\?]+)(\?[^\/]+)?$/i);ext=match&&match[1];return canPlayType('video/'+ext)}return''};vjs.Html5.nativeSourceHandler.handleSource=function(source,tech){tech.setSrc(source.src)};vjs.Html5.nativeSourceHandler.dispose=function(){};vjs.Html5.registerSourceHandler(vjs.Html5.nativeSourceHandler);vjs.Html5.canControlVolume=function(){var volume=vjs.TEST_VID.volume;vjs.TEST_VID.volume=(volume/2)+0.1;return volume!==vjs.TEST_VID.volume};vjs.Html5.canControlPlaybackRate=function(){var playbackRate=vjs.TEST_VID.playbackRate;vjs.TEST_VID.playbackRate=(playbackRate/2)+0.1;return playbackRate!==vjs.TEST_VID.playbackRate};vjs.Html5.supportsNativeTextTracks=function(){var supportsTextTracks;supportsTextTracks=!!vjs.TEST_VID.textTracks;if(supportsTextTracks&&vjs.TEST_VID.textTracks.length>0){supportsTextTracks=typeof vjs.TEST_VID.textTracks[0]['mode']!=='number'}if(supportsTextTracks&&vjs.IS_FIREFOX){supportsTextTracks=false}return supportsTextTracks};vjs.Html5.prototype['featuresVolumeControl']=vjs.Html5.canControlVolume();vjs.Html5.prototype['featuresPlaybackRate']=vjs.Html5.canControlPlaybackRate();vjs.Html5.prototype['movingMediaElementInDOM']=!vjs.IS_IOS;vjs.Html5.prototype['featuresFullscreenResize']=true;vjs.Html5.prototype['featuresProgressEvents']=true;vjs.Html5.prototype['featuresNativeTextTracks']=vjs.Html5.supportsNativeTextTracks();(function(){var canPlayType,mpegurlRE=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,mp4RE=/^video\/mp4/i;vjs.Html5.patchCanPlayType=function(){if(vjs.ANDROID_VERSION>=4.0){if(!canPlayType){canPlayType=vjs.TEST_VID.constructor.prototype.canPlayType}vjs.TEST_VID.constructor.prototype.canPlayType=function(type){if(type&&mpegurlRE.test(type)){return'maybe'}return canPlayType.call(this,type)}}if(vjs.IS_OLD_ANDROID){if(!canPlayType){canPlayType=vjs.TEST_VID.constructor.prototype.canPlayType}vjs.TEST_VID.constructor.prototype.canPlayType=function(type){if(type&&mp4RE.test(type)){return'maybe'}return canPlayType.call(this,type)}}};vjs.Html5.unpatchCanPlayType=function(){var r=vjs.TEST_VID.constructor.prototype.canPlayType;vjs.TEST_VID.constructor.prototype.canPlayType=canPlayType;canPlayType=null;return r};vjs.Html5.patchCanPlayType()})();vjs.Html5.Events='loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange'.split(',');vjs.Html5.disposeMediaElement=function(el){if(!el){return}el['player']=null;if(el.parentNode){el.parentNode.removeChild(el)}while(el.hasChildNodes()){el.removeChild(el.firstChild)}el.removeAttribute('src');if(typeof el.load==='function'){(function(){try{el.load()}catch(e){}})()}};vjs.Flash=vjs.MediaTechController.extend({init:function(player,options,ready){vjs.MediaTechController.call(this,player,options,ready);var source=options['source'],objId=player.id()+'_flash_api',playerOptions=player.options_,flashVars=vjs.obj.merge({'readyFunction':'videojs.Flash.onReady','eventProxyFunction':'videojs.Flash.onEvent','errorEventProxyFunction':'videojs.Flash.onError','autoplay':playerOptions.autoplay,'preload':playerOptions.preload,'loop':playerOptions.loop,'muted':playerOptions.muted},options['flashVars']),params=vjs.obj.merge({'wmode':'opaque','bgcolor':'#000000'},options['params']),attributes=vjs.obj.merge({'id':objId,'name':objId,'class':'vjs-tech'},options['attributes']);if(source){this.ready(function(){this.setSource(source)})}vjs.insertFirst(this.el_,options['parentEl']);if(options['startTime']){this.ready(function(){this.load();this.play();this['currentTime'](options['startTime'])})}if(vjs.IS_FIREFOX){this.ready(function(){this.on('mousemove',function(){this.player().trigger({'type':'mousemove','bubbles':false})})})}player.on('stageclick',player.reportUserActivity);this.el_=vjs.Flash.embed(options['swf'],this.el_,flashVars,params,attributes)}});vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)};vjs.Flash.prototype.play=function(){this.el_.vjs_play()};vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()};vjs.Flash.prototype.src=function(src){if(src===undefined){return this['currentSrc']()}return this.setSrc(src)};vjs.Flash.prototype.setSrc=function(src){src=vjs.getAbsoluteURL(src);this.el_.vjs_src(src);if(this.player_.autoplay()){var tech=this;this.setTimeout(function(){tech.play()},0)}};vjs.Flash.prototype['setCurrentTime']=function(time){this.lastSeekTarget_=time;this.el_.vjs_setProperty('currentTime',time);vjs.MediaTechController.prototype.setCurrentTime.call(this)};vjs.Flash.prototype['currentTime']=function(time){if(this.seeking()){return this.lastSeekTarget_||0}return this.el_.vjs_getProperty('currentTime')};vjs.Flash.prototype['currentSrc']=function(){if(this.currentSource_){return this.currentSource_.src}else{return this.el_.vjs_getProperty('currentSrc')}};vjs.Flash.prototype.load=function(){this.el_.vjs_load()};vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty('poster')};vjs.Flash.prototype['setPoster']=function(){};vjs.Flash.prototype.seekable=function(){var duration=this.duration();if(duration===0){return vjs.createTimeRange()}return vjs.createTimeRange(0,this.duration())};vjs.Flash.prototype.buffered=function(){if(!this.el_.vjs_getProperty){return vjs.createTimeRange()}return vjs.createTimeRange(0,this.el_.vjs_getProperty('buffered'))};vjs.Flash.prototype.duration=function(){if(!this.el_.vjs_getProperty){return 0}return this.el_.vjs_getProperty('duration')};vjs.Flash.prototype.supportsFullScreen=function(){return false};vjs.Flash.prototype.enterFullScreen=function(){return false};(function(){var api=vjs.Flash.prototype,readWrite='rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted'.split(','),readOnly='error,networkState,readyState,seeking,initialTime,startOffsetTime,paused,played,ended,videoTracks,audioTracks,videoWidth,videoHeight'.split(','),i;function createSetter(attr){var attrUpper=attr.charAt(0).toUpperCase()+attr.slice(1);api['set'+attrUpper]=function(val){return this.el_.vjs_setProperty(attr,val)}}function createGetter(attr){api[attr]=function(){return this.el_.vjs_getProperty(attr)}}for(i=0;i<readWrite.length;i++){createGetter(readWrite[i]);createSetter(readWrite[i])}for(i=0;i<readOnly.length;i++){createGetter(readOnly[i])}})();vjs.Flash.isSupported=function(){return vjs.Flash.version()[0]>=10};vjs.MediaTechController.withSourceHandlers(vjs.Flash);vjs.Flash.nativeSourceHandler={};vjs.Flash.nativeSourceHandler.canHandleSource=function(source){var type;if(!source.type){return''}type=source.type.replace(/;.*/,'').toLowerCase();if(type in vjs.Flash.formats){return'maybe'}return''};vjs.Flash.nativeSourceHandler.handleSource=function(source,tech){tech.setSrc(source.src)};vjs.Flash.nativeSourceHandler.dispose=function(){};vjs.Flash.registerSourceHandler(vjs.Flash.nativeSourceHandler);vjs.Flash.formats={'video/flv':'FLV','video/x-flv':'FLV','video/mp4':'MP4','video/m4v':'MP4'};vjs.Flash['onReady']=function(currSwf){var el,player;el=vjs.el(currSwf);player=el&&el.parentNode&&el.parentNode['player'];if(player){el['player']=player;vjs.Flash['checkReady'](player.tech)}};vjs.Flash['checkReady']=function(tech){if(!tech.el()){return}if(tech.el().vjs_getProperty){tech.triggerReady()}else{this.setTimeout(function(){vjs.Flash['checkReady'](tech)},50)}};vjs.Flash['onEvent']=function(swfID,eventName){var player=vjs.el(swfID)['player'];player.trigger(eventName)};vjs.Flash['onError']=function(swfID,err){var player=vjs.el(swfID)['player'];var msg='FLASH: '+err;if(err=='srcnotfound'){player.error({code:4,message:msg})}else{player.error(msg)}};vjs.Flash.version=function(){var version='0,0,0';try{version=new window.ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version').replace(/\D+/g,',').match(/^,?(.+),?$/)[1]}catch(e){try{if(navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin){version=(navigator.plugins['Shockwave Flash 2.0']||navigator.plugins['Shockwave Flash']).description.replace(/\D+/g,',').match(/^,?(.+),?$/)[1]}}catch(err){}}return version.split(',')};vjs.Flash.embed=function(swf,placeHolder,flashVars,params,attributes){var code=vjs.Flash.getEmbedCode(swf,flashVars,params,attributes),obj=vjs.createEl('div',{innerHTML:code}).childNodes[0],par=placeHolder.parentNode;placeHolder.parentNode.replaceChild(obj,placeHolder);obj[vjs.expando]=placeHolder[vjs.expando];var newObj=par.childNodes[0];setTimeout(function(){newObj.style.display='block'},1000);return obj};vjs.Flash.getEmbedCode=function(swf,flashVars,params,attributes){var objTag='<object type="application/x-shockwave-flash" ',flashVarsString='',paramsString='',attrsString='';if(flashVars){vjs.obj.each(flashVars,function(key,val){flashVarsString+=(key+'='+val+'&amp;')})}params=vjs.obj.merge({'movie':swf,'flashvars':flashVarsString,'allowScriptAccess':'always','allowNetworking':'all'},params);vjs.obj.each(params,function(key,val){paramsString+='<param name="'+key+'" value="'+val+'" />'});attributes=vjs.obj.merge({'data':swf,'width':'100%','height':'100%'},attributes);vjs.obj.each(attributes,function(key,val){attrsString+=(key+'="'+val+'" ')});return objTag+attrsString+'>'+paramsString+'</object>'};vjs.Flash.streamingFormats={'rtmp/mp4':'MP4','rtmp/flv':'FLV'};vjs.Flash.streamFromParts=function(connection,stream){return connection+'&'+stream};vjs.Flash.streamToParts=function(src){var parts={connection:'',stream:''};if(!src){return parts}var connEnd=src.indexOf('&');var streamBegin;if(connEnd!==-1){streamBegin=connEnd+1}else{connEnd=streamBegin=src.lastIndexOf('/')+1;if(connEnd===0){connEnd=streamBegin=src.length}}parts.connection=src.substring(0,connEnd);parts.stream=src.substring(streamBegin,src.length);return parts};vjs.Flash.isStreamingType=function(srcType){return srcType in vjs.Flash.streamingFormats};vjs.Flash.RTMP_RE=/^rtmp[set]?:\/\//i;vjs.Flash.isStreamingSrc=function(src){return vjs.Flash.RTMP_RE.test(src)};vjs.Flash.rtmpSourceHandler={};vjs.Flash.rtmpSourceHandler.canHandleSource=function(source){if(vjs.Flash.isStreamingType(source.type)||vjs.Flash.isStreamingSrc(source.src)){return'maybe'}return''};vjs.Flash.rtmpSourceHandler.handleSource=function(source,tech){var srcParts=vjs.Flash.streamToParts(source.src);tech['setRtmpConnection'](srcParts.connection);tech['setRtmpStream'](srcParts.stream)};vjs.Flash.registerSourceHandler(vjs.Flash.rtmpSourceHandler);vjs.MediaLoader=vjs.Component.extend({init:function(player,options,ready){vjs.Component.call(this,player,options,ready);if(!player.options_['sources']||player.options_['sources'].length===0){for(var i=0,j=player.options_['techOrder'];i<j.length;i++){var techName=vjs.capitalize(j[i]),tech=window['videojs'][techName];if(tech&&tech.isSupported()){player.loadTech(techName);break}}}else{player.src(player.options_['sources'])}}});vjs.TextTrackMode={'disabled':'disabled','hidden':'hidden','showing':'showing'};vjs.TextTrackKind={'subtitles':'subtitles','captions':'captions','descriptions':'descriptions','chapters':'chapters','metadata':'metadata'};(function(){vjs.TextTrack=function(options){var tt,id,mode,kind,label,language,cues,activeCues,timeupdateHandler,changed,prop;options=options||{};if(!options['player']){throw new Error('A player was not provided.');}tt=this;if(vjs.IS_IE8){tt=document.createElement('custom');for(prop in vjs.TextTrack.prototype){tt[prop]=vjs.TextTrack.prototype[prop]}}tt.player_=options['player'];mode=vjs.TextTrackMode[options['mode']]||'disabled';kind=vjs.TextTrackKind[options['kind']]||'subtitles';label=options['label']||'';language=options['language']||options['srclang']||'';id=options['id']||'vjs_text_track_'+vjs.guid++;if(kind==='metadata'||kind==='chapters'){mode='hidden'}tt.cues_=[];tt.activeCues_=[];cues=new vjs.TextTrackCueList(tt.cues_);activeCues=new vjs.TextTrackCueList(tt.activeCues_);changed=false;timeupdateHandler=vjs.bind(tt,function(){this['activeCues'];if(changed){this['trigger']('cuechange');changed=false}});if(mode!=='disabled'){tt.player_.on('timeupdate',timeupdateHandler)}Object.defineProperty(tt,'kind',{get:function(){return kind},set:Function.prototype});Object.defineProperty(tt,'label',{get:function(){return label},set:Function.prototype});Object.defineProperty(tt,'language',{get:function(){return language},set:Function.prototype});Object.defineProperty(tt,'id',{get:function(){return id},set:Function.prototype});Object.defineProperty(tt,'mode',{get:function(){return mode},set:function(newMode){if(!vjs.TextTrackMode[newMode]){return}mode=newMode;if(mode==='showing'){this.player_.on('timeupdate',timeupdateHandler)}this.trigger('modechange')}});Object.defineProperty(tt,'cues',{get:function(){if(!this.loaded_){return null}return cues},set:Function.prototype});Object.defineProperty(tt,'activeCues',{get:function(){var i,l,active,ct,cue;if(!this.loaded_){return null}if(this['cues'].length===0){return activeCues}ct=this.player_.currentTime();i=0;l=this['cues'].length;active=[];for(;i<l;i++){cue=this['cues'][i];if(cue['startTime']<=ct&&cue['endTime']>=ct){active.push(cue)}else if(cue['startTime']===cue['endTime']&&cue['startTime']<=ct&&cue['startTime']+0.5>=ct){active.push(cue)}}changed=false;if(active.length!==this.activeCues_.length){changed=true}else{for(i=0;i<active.length;i++){if(indexOf.call(this.activeCues_,active[i])===-1){changed=true}}}this.activeCues_=active;activeCues.setCues_(this.activeCues_);return activeCues},set:Function.prototype});if(options.src){loadTrack(options.src,tt)}else{tt.loaded_=true}if(vjs.IS_IE8){return tt}};vjs.TextTrack.prototype=vjs.obj.create(vjs.EventEmitter.prototype);vjs.TextTrack.prototype.constructor=vjs.TextTrack;vjs.TextTrack.prototype.allowedEvents_={'cuechange':'cuechange'};vjs.TextTrack.prototype.addCue=function(cue){var tracks=this.player_.textTracks(),i=0;if(tracks){for(;i<tracks.length;i++){if(tracks[i]!==this){tracks[i].removeCue(cue)}}}this.cues_.push(cue);this['cues'].setCues_(this.cues_)};vjs.TextTrack.prototype.removeCue=function(removeCue){var i=0,l=this.cues_.length,cue,removed=false;for(;i<l;i++){cue=this.cues_[i];if(cue===removeCue){this.cues_.splice(i,1);removed=true}}if(removed){this.cues.setCues_(this.cues_)}};var loadTrack,parseCues,indexOf;loadTrack=function(src,track){vjs.xhr(src,vjs.bind(this,function(err,response,responseBody){if(err){return vjs.log.error(err)}track.loaded_=true;parseCues(responseBody,track)}))};parseCues=function(srcContent,track){if(typeof window['WebVTT']!=='function'){return window.setTimeout(function(){parseCues(srcContent,track)},25)}var parser=new window['WebVTT']['Parser'](window,window['vttjs'],window['WebVTT']['StringDecoder']());parser['oncue']=function(cue){track.addCue(cue)};parser['onparsingerror']=function(error){vjs.log.error(error)};parser['parse'](srcContent);parser['flush']()};indexOf=function(searchElement,fromIndex){var k;if(this==null){throw new TypeError('"this" is null or not defined');}var O=Object(this);var len=O.length>>>0;if(len===0){return-1}var n=+fromIndex||0;if(Math.abs(n)===Infinity){n=0}if(n>=len){return-1}k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(k in O&&O[k]===searchElement){return k}k++}return-1}})();vjs.TextTrackList=function(tracks){var list=this,prop,i=0;if(vjs.IS_IE8){list=document.createElement('custom');for(prop in vjs.TextTrackList.prototype){list[prop]=vjs.TextTrackList.prototype[prop]}}tracks=tracks||[];list.tracks_=[];Object.defineProperty(list,'length',{get:function(){return this.tracks_.length}});for(;i<tracks.length;i++){list.addTrack_(tracks[i])}if(vjs.IS_IE8){return list}};vjs.TextTrackList.prototype=vjs.obj.create(vjs.EventEmitter.prototype);vjs.TextTrackList.prototype.constructor=vjs.TextTrackList;vjs.TextTrackList.prototype.allowedEvents_={'change':'change','addtrack':'addtrack','removetrack':'removetrack'};(function(){var event;for(event in vjs.TextTrackList.prototype.allowedEvents_){vjs.TextTrackList.prototype['on'+event]=null}})();vjs.TextTrackList.prototype.addTrack_=function(track){var index=this.tracks_.length;if(!(''+index in this)){Object.defineProperty(this,index,{get:function(){return this.tracks_[index]}})}track.addEventListener('modechange',vjs.bind(this,function(){this.trigger('change')}));this.tracks_.push(track);this.trigger({type:'addtrack',track:track})};vjs.TextTrackList.prototype.removeTrack_=function(rtrack){var i=0,l=this.length,result=null,track;for(;i<l;i++){track=this[i];if(track===rtrack){this.tracks_.splice(i,1);break}}this.trigger({type:'removetrack',track:rtrack})};vjs.TextTrackList.prototype.getTrackById=function(id){var i=0,l=this.length,result=null,track;for(;i<l;i++){track=this[i];if(track.id===id){result=track;break}}return result};vjs.TextTrackCueList=function(cues){var list=this,prop;if(vjs.IS_IE8){list=document.createElement('custom');for(prop in vjs.TextTrackCueList.prototype){list[prop]=vjs.TextTrackCueList.prototype[prop]}}vjs.TextTrackCueList.prototype.setCues_.call(list,cues);Object.defineProperty(list,'length',{get:function(){return this.length_}});if(vjs.IS_IE8){return list}};vjs.TextTrackCueList.prototype.setCues_=function(cues){var oldLength=this.length||0,i=0,l=cues.length,defineProp;this.cues_=cues;this.length_=cues.length;defineProp=function(i){if(!(''+i in this)){Object.defineProperty(this,''+i,{get:function(){return this.cues_[i]}})}};if(oldLength<l){i=oldLength;for(;i<l;i++){defineProp.call(this,i)}}};vjs.TextTrackCueList.prototype.getCueById=function(id){var i=0,l=this.length,result=null,cue;for(;i<l;i++){cue=this[i];if(cue.id===id){result=cue;break}}return result};(function(){'use strict';vjs.TextTrackDisplay=vjs.Component.extend({init:function(player,options,ready){vjs.Component.call(this,player,options,ready);player.on('loadstart',vjs.bind(this,this.toggleDisplay));player.ready(vjs.bind(this,function(){if(player.tech&&player.tech['featuresNativeTextTracks']){this.hide();return}var i,tracks,track;player.on('fullscreenchange',vjs.bind(this,this.updateDisplay));tracks=player.options_['tracks']||[];for(i=0;i<tracks.length;i++){track=tracks[i];this.player_.addRemoteTextTrack(track)}}))}});vjs.TextTrackDisplay.prototype.toggleDisplay=function(){if(this.player_.tech&&this.player_.tech['featuresNativeTextTracks']){this.hide()}else{this.show()}};vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,'div',{className:'vjs-text-track-display'})};vjs.TextTrackDisplay.prototype.clearDisplay=function(){if(typeof window['WebVTT']==='function'){window['WebVTT']['processCues'](window,[],this.el_)}};var constructColor=function(color,opacity){return'rgba('+parseInt(color[1]+color[1],16)+','+parseInt(color[2]+color[2],16)+','+parseInt(color[3]+color[3],16)+','+opacity+')'};var darkGray='#222';var lightGray='#ccc';var fontMap={monospace:'monospace',sansSerif:'sans-serif',serif:'serif',monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:'sans-serif',proportionalSerif:'serif',casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};var tryUpdateStyle=function(el,style,rule){try{el.style[style]=rule}catch(e){}};vjs.TextTrackDisplay.prototype.updateDisplay=function(){var tracks=this.player_.textTracks(),i=0,track;this.clearDisplay();if(!tracks){return}for(;i<tracks.length;i++){track=tracks[i];if(track['mode']==='showing'){this.updateForTrack(track)}}};vjs.TextTrackDisplay.prototype.updateForTrack=function(track){if(typeof window['WebVTT']!=='function'||!track['activeCues']){return}var i=0,property,cueDiv,overrides=this.player_['textTrackSettings'].getValues(),fontSize,cues=[];for(;i<track['activeCues'].length;i++){cues.push(track['activeCues'][i])}window['WebVTT']['processCues'](window,track['activeCues'],this.el_);i=cues.length;while(i--){cueDiv=cues[i].displayState;if(overrides.color){cueDiv.firstChild.style.color=overrides.color}if(overrides.textOpacity){tryUpdateStyle(cueDiv.firstChild,'color',constructColor(overrides.color||'#fff',overrides.textOpacity))}if(overrides.backgroundColor){cueDiv.firstChild.style.backgroundColor=overrides.backgroundColor}if(overrides.backgroundOpacity){tryUpdateStyle(cueDiv.firstChild,'backgroundColor',constructColor(overrides.backgroundColor||'#000',overrides.backgroundOpacity))}if(overrides.windowColor){if(overrides.windowOpacity){tryUpdateStyle(cueDiv,'backgroundColor',constructColor(overrides.windowColor,overrides.windowOpacity))}else{cueDiv.style.backgroundColor=overrides.windowColor}}if(overrides.edgeStyle){if(overrides.edgeStyle==='dropshadow'){cueDiv.firstChild.style.textShadow='2px 2px 3px '+darkGray+', 2px 2px 4px '+darkGray+', 2px 2px 5px '+darkGray}else if(overrides.edgeStyle==='raised'){cueDiv.firstChild.style.textShadow='1px 1px '+darkGray+', 2px 2px '+darkGray+', 3px 3px '+darkGray}else if(overrides.edgeStyle==='depressed'){cueDiv.firstChild.style.textShadow='1px 1px '+lightGray+', 0 1px '+lightGray+', -1px -1px '+darkGray+', 0 -1px '+darkGray}else if(overrides.edgeStyle==='uniform'){cueDiv.firstChild.style.textShadow='0 0 4px '+darkGray+', 0 0 4px '+darkGray+', 0 0 4px '+darkGray+', 0 0 4px '+darkGray}}if(overrides.fontPercent&&overrides.fontPercent!==1){fontSize=window.parseFloat(cueDiv.style.fontSize);cueDiv.style.fontSize=(fontSize*overrides.fontPercent)+'px';cueDiv.style.height='auto';cueDiv.style.top='auto';cueDiv.style.bottom='2px'}if(overrides.fontFamily&&overrides.fontFamily!=='default'){if(overrides.fontFamily==='small-caps'){cueDiv.firstChild.style.fontVariant='small-caps'}else{cueDiv.firstChild.style.fontFamily=fontMap[overrides.fontFamily]}}}};vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(player,options){var track=this.track=options['track'],tracks=player.textTracks(),changeHandler,event;if(tracks){changeHandler=vjs.bind(this,function(){var selected=this.track['mode']==='showing',track,i,l;if(this instanceof vjs.OffTextTrackMenuItem){selected=true;i=0,l=tracks.length;for(;i<l;i++){track=tracks[i];if(track['kind']===this.track['kind']&&track['mode']==='showing'){selected=false;break}}}this.selected(selected)});tracks.addEventListener('change',changeHandler);player.on('dispose',function(){tracks.removeEventListener('change',changeHandler)})}options['label']=track['label']||track['language']||'Unknown';options['selected']=track['default']||track['mode']==='showing';vjs.MenuItem.call(this,player,options);if(tracks&&tracks.onchange===undefined){this.on(['tap','click'],function(){if(typeof window.Event!=='object'){try{event=new window.Event('change')}catch(err){}}if(!event){event=document.createEvent('Event');event.initEvent('change',true,true)}tracks.dispatchEvent(event)})}}});vjs.TextTrackMenuItem.prototype.onClick=function(){var kind=this.track['kind'],tracks=this.player_.textTracks(),mode,track,i=0;vjs.MenuItem.prototype.onClick.call(this);if(!tracks){return}for(;i<tracks.length;i++){track=tracks[i];if(track['kind']!==kind){continue}if(track===this.track){track['mode']='showing'}else{track['mode']='disabled'}}};vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(player,options){options['track']={'kind':options['kind'],'player':player,'label':options['kind']+' off','default':false,'mode':'disabled'};vjs.TextTrackMenuItem.call(this,player,options);this.selected(true)}});vjs.CaptionSettingsMenuItem=vjs.TextTrackMenuItem.extend({init:function(player,options){options['track']={'kind':options['kind'],'player':player,'label':options['kind']+' settings','default':false,mode:'disabled'};vjs.TextTrackMenuItem.call(this,player,options);this.addClass('vjs-texttrack-settings')}});vjs.CaptionSettingsMenuItem.prototype.onClick=function(){this.player().getChild('textTrackSettings').show()};vjs.TextTrackButton=vjs.MenuButton.extend({init:function(player,options){var tracks,updateHandler;vjs.MenuButton.call(this,player,options);tracks=this.player_.textTracks();if(this.items.length<=1){this.hide()}if(!tracks){return}updateHandler=vjs.bind(this,this.update);tracks.addEventListener('removetrack',updateHandler);tracks.addEventListener('addtrack',updateHandler);this.player_.on('dispose',function(){tracks.removeEventListener('removetrack',updateHandler);tracks.removeEventListener('addtrack',updateHandler)})}});vjs.TextTrackButton.prototype.createItems=function(){var items=[],track,tracks;if(this instanceof vjs.CaptionsButton&&!(this.player().tech&&this.player().tech['featuresNativeTextTracks'])){items.push(new vjs.CaptionSettingsMenuItem(this.player_,{'kind':this.kind_}))}items.push(new vjs.OffTextTrackMenuItem(this.player_,{'kind':this.kind_}));tracks=this.player_.textTracks();if(!tracks){return items}for(var i=0;i<tracks.length;i++){track=tracks[i];if(track['kind']===this.kind_){items.push(new vjs.TextTrackMenuItem(this.player_,{'track':track}))}}return items};vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(player,options,ready){vjs.TextTrackButton.call(this,player,options,ready);this.el_.setAttribute('aria-label','Captions Menu')}});vjs.CaptionsButton.prototype.kind_='captions';vjs.CaptionsButton.prototype.buttonText='Captions';vjs.CaptionsButton.prototype.className='vjs-captions-button';vjs.CaptionsButton.prototype.update=function(){var threshold=2;vjs.TextTrackButton.prototype.update.call(this);if(this.player().tech&&this.player().tech['featuresNativeTextTracks']){threshold=1}if(this.items&&this.items.length>threshold){this.show()}else{this.hide()}};vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(player,options,ready){vjs.TextTrackButton.call(this,player,options,ready);this.el_.setAttribute('aria-label','Subtitles Menu')}});vjs.SubtitlesButton.prototype.kind_='subtitles';vjs.SubtitlesButton.prototype.buttonText='Subtitles';vjs.SubtitlesButton.prototype.className='vjs-subtitles-button';vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(player,options,ready){vjs.TextTrackButton.call(this,player,options,ready);this.el_.setAttribute('aria-label','Chapters Menu')}});vjs.ChaptersButton.prototype.kind_='chapters';vjs.ChaptersButton.prototype.buttonText='Chapters';vjs.ChaptersButton.prototype.className='vjs-chapters-button';vjs.ChaptersButton.prototype.createItems=function(){var items=[],track,tracks;tracks=this.player_.textTracks();if(!tracks){return items}for(var i=0;i<tracks.length;i++){track=tracks[i];if(track['kind']===this.kind_){items.push(new vjs.TextTrackMenuItem(this.player_,{'track':track}))}}return items};vjs.ChaptersButton.prototype.createMenu=function(){var tracks=this.player_.textTracks()||[],i=0,l=tracks.length,track,chaptersTrack,items=this.items=[];for(;i<l;i++){track=tracks[i];if(track['kind']==this.kind_){if(!track.cues){track['mode']='hidden';window.setTimeout(vjs.bind(this,function(){this.createMenu()}),100)}else{chaptersTrack=track;break}}}var menu=this.menu;if(menu===undefined){menu=new vjs.Menu(this.player_);menu.contentEl().appendChild(vjs.createEl('li',{className:'vjs-menu-title',innerHTML:vjs.capitalize(this.kind_),tabindex:-1}))}if(chaptersTrack){var cues=chaptersTrack['cues'],cue,mi;i=0;l=cues.length;for(;i<l;i++){cue=cues[i];mi=new vjs.ChaptersTrackMenuItem(this.player_,{'track':chaptersTrack,'cue':cue});items.push(mi);menu.addChild(mi)}this.addChild(menu)}if(this.items.length>0){this.show()}return menu};vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(player,options){var track=this.track=options['track'],cue=this.cue=options['cue'],currentTime=player.currentTime();options['label']=cue.text;options['selected']=(cue['startTime']<=currentTime&&currentTime<cue['endTime']);vjs.MenuItem.call(this,player,options);track.addEventListener('cuechange',vjs.bind(this,this.update))}});vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};vjs.ChaptersTrackMenuItem.prototype.update=function(){var cue=this.cue,currentTime=this.player_.currentTime();this.selected(cue['startTime']<=currentTime&&currentTime<cue['endTime'])}})();(function(){'use strict';vjs.TextTrackSettings=vjs.Component.extend({init:function(player,options){vjs.Component.call(this,player,options);this.hide();vjs.on(this.el().querySelector('.vjs-done-button'),'click',vjs.bind(this,function(){this.saveSettings();this.hide()}));vjs.on(this.el().querySelector('.vjs-default-button'),'click',vjs.bind(this,function(){this.el().querySelector('.vjs-fg-color > select').selectedIndex=0;this.el().querySelector('.vjs-bg-color > select').selectedIndex=0;this.el().querySelector('.window-color > select').selectedIndex=0;this.el().querySelector('.vjs-text-opacity > select').selectedIndex=0;this.el().querySelector('.vjs-bg-opacity > select').selectedIndex=0;this.el().querySelector('.vjs-window-opacity > select').selectedIndex=0;this.el().querySelector('.vjs-edge-style select').selectedIndex=0;this.el().querySelector('.vjs-font-family select').selectedIndex=0;this.el().querySelector('.vjs-font-percent select').selectedIndex=2;this.updateDisplay()}));vjs.on(this.el().querySelector('.vjs-fg-color > select'),'change',vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector('.vjs-bg-color > select'),'change',vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector('.window-color > select'),'change',vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector('.vjs-text-opacity > select'),'change',vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector('.vjs-bg-opacity > select'),'change',vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector('.vjs-window-opacity > select'),'change',vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector('.vjs-font-percent select'),'change',vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector('.vjs-edge-style select'),'change',vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector('.vjs-font-family select'),'change',vjs.bind(this,this.updateDisplay));if(player.options()['persistTextTrackSettings']){this.restoreSettings()}}});vjs.TextTrackSettings.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,'div',{className:'vjs-caption-settings vjs-modal-overlay',innerHTML:captionOptionsMenuTemplate()})};vjs.TextTrackSettings.prototype.getValues=function(){var el,bgOpacity,textOpacity,windowOpacity,textEdge,fontFamily,fgColor,bgColor,windowColor,result,name,fontPercent;el=this.el();textEdge=getSelectedOptionValue(el.querySelector('.vjs-edge-style select'));fontFamily=getSelectedOptionValue(el.querySelector('.vjs-font-family select'));fgColor=getSelectedOptionValue(el.querySelector('.vjs-fg-color > select'));textOpacity=getSelectedOptionValue(el.querySelector('.vjs-text-opacity > select'));bgColor=getSelectedOptionValue(el.querySelector('.vjs-bg-color > select'));bgOpacity=getSelectedOptionValue(el.querySelector('.vjs-bg-opacity > select'));windowColor=getSelectedOptionValue(el.querySelector('.window-color > select'));windowOpacity=getSelectedOptionValue(el.querySelector('.vjs-window-opacity > select'));fontPercent=window['parseFloat'](getSelectedOptionValue(el.querySelector('.vjs-font-percent > select')));result={'backgroundOpacity':bgOpacity,'textOpacity':textOpacity,'windowOpacity':windowOpacity,'edgeStyle':textEdge,'fontFamily':fontFamily,'color':fgColor,'backgroundColor':bgColor,'windowColor':windowColor,'fontPercent':fontPercent};for(name in result){if(result[name]===''||result[name]==='none'||(name==='fontPercent'&&result[name]===1.00)){delete result[name]}}return result};vjs.TextTrackSettings.prototype.setValues=function(values){var el=this.el(),fontPercent;setSelectedOption(el.querySelector('.vjs-edge-style select'),values.edgeStyle);setSelectedOption(el.querySelector('.vjs-font-family select'),values.fontFamily);setSelectedOption(el.querySelector('.vjs-fg-color > select'),values.color);setSelectedOption(el.querySelector('.vjs-text-opacity > select'),values.textOpacity);setSelectedOption(el.querySelector('.vjs-bg-color > select'),values.backgroundColor);setSelectedOption(el.querySelector('.vjs-bg-opacity > select'),values.backgroundOpacity);setSelectedOption(el.querySelector('.window-color > select'),values.windowColor);setSelectedOption(el.querySelector('.vjs-window-opacity > select'),values.windowOpacity);fontPercent=values.fontPercent;if(fontPercent){fontPercent=fontPercent.toFixed(2)}setSelectedOption(el.querySelector('.vjs-font-percent > select'),fontPercent)};vjs.TextTrackSettings.prototype.restoreSettings=function(){var values;try{values=JSON.parse(window.localStorage.getItem('vjs-text-track-settings'))}catch(e){}if(values){this.setValues(values)}};vjs.TextTrackSettings.prototype.saveSettings=function(){var values;if(!this.player_.options()['persistTextTrackSettings']){return}values=this.getValues();try{if(!vjs.isEmpty(values)){window.localStorage.setItem('vjs-text-track-settings',JSON.stringify(values))}else{window.localStorage.removeItem('vjs-text-track-settings')}}catch(e){}};vjs.TextTrackSettings.prototype.updateDisplay=function(){var ttDisplay=this.player_.getChild('textTrackDisplay');if(ttDisplay){ttDisplay.updateDisplay()}};function getSelectedOptionValue(target){var selectedOption;if(target.selectedOptions){selectedOption=target.selectedOptions[0]}else if(target.options){selectedOption=target.options[target.options.selectedIndex]}return selectedOption.value}function setSelectedOption(target,value){var i,option;if(!value){return}for(i=0;i<target.options.length;i++){option=target.options[i];if(option.value===value){break}}target.selectedIndex=i}function captionOptionsMenuTemplate(){return'<div class="vjs-tracksettings">'+'<div class="vjs-tracksettings-colors">'+'<div class="vjs-fg-color vjs-tracksetting">'+'<label class="vjs-label">Foreground</label>'+'<select>'+'<option value="">---</option>'+'<option value="#FFF">White</option>'+'<option value="#000">Black</option>'+'<option value="#F00">Red</option>'+'<option value="#0F0">Green</option>'+'<option value="#00F">Blue</option>'+'<option value="#FF0">Yellow</option>'+'<option value="#F0F">Magenta</option>'+'<option value="#0FF">Cyan</option>'+'</select>'+'<span class="vjs-text-opacity vjs-opacity">'+'<select>'+'<option value="">---</option>'+'<option value="1">Opaque</option>'+'<option value="0.5">Semi-Opaque</option>'+'</select>'+'</span>'+'</div>'+'<div class="vjs-bg-color vjs-tracksetting">'+'<label class="vjs-label">Background</label>'+'<select>'+'<option value="">---</option>'+'<option value="#FFF">White</option>'+'<option value="#000">Black</option>'+'<option value="#F00">Red</option>'+'<option value="#0F0">Green</option>'+'<option value="#00F">Blue</option>'+'<option value="#FF0">Yellow</option>'+'<option value="#F0F">Magenta</option>'+'<option value="#0FF">Cyan</option>'+'</select>'+'<span class="vjs-bg-opacity vjs-opacity">'+'<select>'+'<option value="">---</option>'+'<option value="1">Opaque</option>'+'<option value="0.5">Semi-Transparent</option>'+'<option value="0">Transparent</option>'+'</select>'+'</span>'+'</div>'+'<div class="window-color vjs-tracksetting">'+'<label class="vjs-label">Window</label>'+'<select>'+'<option value="">---</option>'+'<option value="#FFF">White</option>'+'<option value="#000">Black</option>'+'<option value="#F00">Red</option>'+'<option value="#0F0">Green</option>'+'<option value="#00F">Blue</option>'+'<option value="#FF0">Yellow</option>'+'<option value="#F0F">Magenta</option>'+'<option value="#0FF">Cyan</option>'+'</select>'+'<span class="vjs-window-opacity vjs-opacity">'+'<select>'+'<option value="">---</option>'+'<option value="1">Opaque</option>'+'<option value="0.5">Semi-Transparent</option>'+'<option value="0">Transparent</option>'+'</select>'+'</span>'+'</div>'+'</div>'+'<div class="vjs-tracksettings-font">'+'<div class="vjs-font-percent vjs-tracksetting">'+'<label class="vjs-label">Font Size</label>'+'<select>'+'<option value="0.50">50%</option>'+'<option value="0.75">75%</option>'+'<option value="1.00" selected>100%</option>'+'<option value="1.25">125%</option>'+'<option value="1.50">150%</option>'+'<option value="1.75">175%</option>'+'<option value="2.00">200%</option>'+'<option value="3.00">300%</option>'+'<option value="4.00">400%</option>'+'</select>'+'</div>'+'<div class="vjs-edge-style vjs-tracksetting">'+'<label class="vjs-label">Text Edge Style</label>'+'<select>'+'<option value="none">None</option>'+'<option value="raised">Raised</option>'+'<option value="depressed">Depressed</option>'+'<option value="uniform">Uniform</option>'+'<option value="dropshadow">Dropshadow</option>'+'</select>'+'</div>'+'<div class="vjs-font-family vjs-tracksetting">'+'<label class="vjs-label">Font Family</label>'+'<select>'+'<option value="">Default</option>'+'<option value="monospaceSerif">Monospace Serif</option>'+'<option value="proportionalSerif">Proportional Serif</option>'+'<option value="monospaceSansSerif">Monospace Sans-Serif</option>'+'<option value="proportionalSansSerif">Proportional Sans-Serif</option>'+'<option value="casual">Casual</option>'+'<option value="script">Script</option>'+'<option value="small-caps">Small Caps</option>'+'</select>'+'</div>'+'</div>'+'</div>'+'<div class="vjs-tracksettings-controls">'+'<button class="vjs-default-button">Defaults</button>'+'<button class="vjs-done-button">Done</button>'+'</div>'}})();vjs.JSON;if(typeof window.JSON!=='undefined'&&typeof window.JSON.parse==='function'){vjs.JSON=window.JSON}else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j}throw new SyntaxError('JSON.parse(): invalid or malformed JSON data');}}vjs.autoSetup=function(){var options,mediaEl,player,i,e;var vids=document.getElementsByTagName('video');var audios=document.getElementsByTagName('audio');var mediaEls=[];if(vids&&vids.length>0){for(i=0,e=vids.length;i<e;i++){mediaEls.push(vids[i])}}if(audios&&audios.length>0){for(i=0,e=audios.length;i<e;i++){mediaEls.push(audios[i])}}if(mediaEls&&mediaEls.length>0){for(i=0,e=mediaEls.length;i<e;i++){mediaEl=mediaEls[i];if(mediaEl&&mediaEl.getAttribute){if(mediaEl['player']===undefined){options=mediaEl.getAttribute('data-setup');if(options!==null){player=videojs(mediaEl)}}}else{vjs.autoSetupTimeout(1);break}}}else if(!vjs.windowLoaded){vjs.autoSetupTimeout(1)}};vjs.autoSetupTimeout=function(wait){setTimeout(vjs.autoSetup,wait)};if(document.readyState==='complete'){vjs.windowLoaded=true}else{vjs.one(window,'load',function(){vjs.windowLoaded=true})}vjs.autoSetupTimeout(1);vjs.plugin=function(name,init){vjs.Player.prototype[name]=init};(function(root){var vttjs=root.vttjs={};var cueShim=vttjs.VTTCue;var regionShim=vttjs.VTTRegion;var oldVTTCue=root.VTTCue;var oldVTTRegion=root.VTTRegion;vttjs.shim=function(){vttjs.VTTCue=cueShim;vttjs.VTTRegion=regionShim};vttjs.restore=function(){vttjs.VTTCue=oldVTTCue;vttjs.VTTRegion=oldVTTRegion}}(this));(function(root,vttjs){var autoKeyword="auto";var directionSetting={"":true,"lr":true,"rl":true};var alignSetting={"start":true,"middle":true,"end":true,"left":true,"right":true};function findDirectionSetting(value){if(typeof value!=="string"){return false}var dir=directionSetting[value.toLowerCase()];return dir?value.toLowerCase():false}function findAlignSetting(value){if(typeof value!=="string"){return false}var align=alignSetting[value.toLowerCase()];return align?value.toLowerCase():false}function extend(obj){var i=1;for(;i<arguments.length;i++){var cobj=arguments[i];for(var p in cobj){obj[p]=cobj[p]}}return obj}function VTTCue(startTime,endTime,text){var cue=this;var isIE8=(/MSIE\s8\.0/).test(navigator.userAgent);var baseObj={};if(isIE8){cue=document.createElement('custom')}else{baseObj.enumerable=true}cue.hasBeenReset=false;var _id="";var _pauseOnExit=false;var _startTime=startTime;var _endTime=endTime;var _text=text;var _region=null;var _vertical="";var _snapToLines=true;var _line="auto";var _lineAlign="start";var _position=50;var _positionAlign="middle";var _size=50;var _align="middle";Object.defineProperty(cue,"id",extend({},baseObj,{get:function(){return _id},set:function(value){_id=""+value}}));Object.defineProperty(cue,"pauseOnExit",extend({},baseObj,{get:function(){return _pauseOnExit},set:function(value){_pauseOnExit=!!value}}));Object.defineProperty(cue,"startTime",extend({},baseObj,{get:function(){return _startTime},set:function(value){if(typeof value!=="number"){throw new TypeError("Start time must be set to a number.");}_startTime=value;this.hasBeenReset=true}}));Object.defineProperty(cue,"endTime",extend({},baseObj,{get:function(){return _endTime},set:function(value){if(typeof value!=="number"){throw new TypeError("End time must be set to a number.");}_endTime=value;this.hasBeenReset=true}}));Object.defineProperty(cue,"text",extend({},baseObj,{get:function(){return _text},set:function(value){_text=""+value;this.hasBeenReset=true}}));Object.defineProperty(cue,"region",extend({},baseObj,{get:function(){return _region},set:function(value){_region=value;this.hasBeenReset=true}}));Object.defineProperty(cue,"vertical",extend({},baseObj,{get:function(){return _vertical},set:function(value){var setting=findDirectionSetting(value);if(setting===false){throw new SyntaxError("An invalid or illegal string was specified.");}_vertical=setting;this.hasBeenReset=true}}));Object.defineProperty(cue,"snapToLines",extend({},baseObj,{get:function(){return _snapToLines},set:function(value){_snapToLines=!!value;this.hasBeenReset=true}}));Object.defineProperty(cue,"line",extend({},baseObj,{get:function(){return _line},set:function(value){if(typeof value!=="number"&&value!==autoKeyword){throw new SyntaxError("An invalid number or illegal string was specified.");}_line=value;this.hasBeenReset=true}}));Object.defineProperty(cue,"lineAlign",extend({},baseObj,{get:function(){return _lineAlign},set:function(value){var setting=findAlignSetting(value);if(!setting){throw new SyntaxError("An invalid or illegal string was specified.");}_lineAlign=setting;this.hasBeenReset=true}}));Object.defineProperty(cue,"position",extend({},baseObj,{get:function(){return _position},set:function(value){if(value<0||value>100){throw new Error("Position must be between 0 and 100.");}_position=value;this.hasBeenReset=true}}));Object.defineProperty(cue,"positionAlign",extend({},baseObj,{get:function(){return _positionAlign},set:function(value){var setting=findAlignSetting(value);if(!setting){throw new SyntaxError("An invalid or illegal string was specified.");}_positionAlign=setting;this.hasBeenReset=true}}));Object.defineProperty(cue,"size",extend({},baseObj,{get:function(){return _size},set:function(value){if(value<0||value>100){throw new Error("Size must be between 0 and 100.");}_size=value;this.hasBeenReset=true}}));Object.defineProperty(cue,"align",extend({},baseObj,{get:function(){return _align},set:function(value){var setting=findAlignSetting(value);if(!setting){throw new SyntaxError("An invalid or illegal string was specified.");}_align=setting;this.hasBeenReset=true}}));cue.displayState=undefined;if(isIE8){return cue}}VTTCue.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};root.VTTCue=root.VTTCue||VTTCue;vttjs.VTTCue=VTTCue}(this,(this.vttjs||{})));(function(root,vttjs){var scrollSetting={"":true,"up":true};function findScrollSetting(value){if(typeof value!=="string"){return false}var scroll=scrollSetting[value.toLowerCase()];return scroll?value.toLowerCase():false}function isValidPercentValue(value){return typeof value==="number"&&(value>=0&&value<=100)}function VTTRegion(){var _width=100;var _lines=3;var _regionAnchorX=0;var _regionAnchorY=100;var _viewportAnchorX=0;var _viewportAnchorY=100;var _scroll="";Object.defineProperties(this,{"width":{enumerable:true,get:function(){return _width},set:function(value){if(!isValidPercentValue(value)){throw new Error("Width must be between 0 and 100.");}_width=value}},"lines":{enumerable:true,get:function(){return _lines},set:function(value){if(typeof value!=="number"){throw new TypeError("Lines must be set to a number.");}_lines=value}},"regionAnchorY":{enumerable:true,get:function(){return _regionAnchorY},set:function(value){if(!isValidPercentValue(value)){throw new Error("RegionAnchorX must be between 0 and 100.");}_regionAnchorY=value}},"regionAnchorX":{enumerable:true,get:function(){return _regionAnchorX},set:function(value){if(!isValidPercentValue(value)){throw new Error("RegionAnchorY must be between 0 and 100.");}_regionAnchorX=value}},"viewportAnchorY":{enumerable:true,get:function(){return _viewportAnchorY},set:function(value){if(!isValidPercentValue(value)){throw new Error("ViewportAnchorY must be between 0 and 100.");}_viewportAnchorY=value}},"viewportAnchorX":{enumerable:true,get:function(){return _viewportAnchorX},set:function(value){if(!isValidPercentValue(value)){throw new Error("ViewportAnchorX must be between 0 and 100.");}_viewportAnchorX=value}},"scroll":{enumerable:true,get:function(){return _scroll},set:function(value){var setting=findScrollSetting(value);if(setting===false){throw new SyntaxError("An invalid or illegal string was specified.");}_scroll=setting}}})}root.VTTRegion=root.VTTRegion||VTTRegion;vttjs.VTTRegion=VTTRegion}(this,(this.vttjs||{})));(function(global){var _objCreate=Object.create||(function(){function F(){}return function(o){if(arguments.length!==1){throw new Error('Object.create shim only accepts one parameter.');}F.prototype=o;return new F()}})();function ParsingError(errorData,message){this.name="ParsingError";this.code=errorData.code;this.message=message||errorData.message}ParsingError.prototype=_objCreate(Error.prototype);ParsingError.prototype.constructor=ParsingError;ParsingError.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function parseTimeStamp(input){function computeSeconds(h,m,s,f){return(h|0)*3600+(m|0)*60+(s|0)+(f|0)/1000}var m=input.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);if(!m){return null}if(m[3]){return computeSeconds(m[1],m[2],m[3].replace(":",""),m[4])}else if(m[1]>59){return computeSeconds(m[1],m[2],0,m[4])}else{return computeSeconds(0,m[1],m[2],m[4])}}function Settings(){this.values=_objCreate(null)}Settings.prototype={set:function(k,v){if(!this.get(k)&&v!==""){this.values[k]=v}},get:function(k,dflt,defaultKey){if(defaultKey){return this.has(k)?this.values[k]:dflt[defaultKey]}return this.has(k)?this.values[k]:dflt},has:function(k){return k in this.values},alt:function(k,v,a){for(var n=0;n<a.length;++n){if(v===a[n]){this.set(k,v);break}}},integer:function(k,v){if(/^-?\d+$/.test(v)){this.set(k,parseInt(v,10))}},percent:function(k,v){var m;if((m=v.match(/^([\d]{1,3})(\.[\d]*)?%$/))){v=parseFloat(v);if(v>=0&&v<=100){this.set(k,v);return true}}return false}};function parseOptions(input,callback,keyValueDelim,groupDelim){var groups=groupDelim?input.split(groupDelim):[input];for(var i in groups){if(typeof groups[i]!=="string"){continue}var kv=groups[i].split(keyValueDelim);if(kv.length!==2){continue}var k=kv[0];var v=kv[1];callback(k,v)}}function parseCue(input,cue,regionList){var oInput=input;function consumeTimeStamp(){var ts=parseTimeStamp(input);if(ts===null){throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed timestamp: "+oInput);}input=input.replace(/^[^\sa-zA-Z-]+/,"");return ts}function consumeCueSettings(input,cue){var settings=new Settings();parseOptions(input,function(k,v){switch(k){case"region":for(var i=regionList.length-1;i>=0;i--){if(regionList[i].id===v){settings.set(k,regionList[i].region);break}}break;case"vertical":settings.alt(k,v,["rl","lr"]);break;case"line":var vals=v.split(","),vals0=vals[0];settings.integer(k,vals0);settings.percent(k,vals0)?settings.set("snapToLines",false):null;settings.alt(k,vals0,["auto"]);if(vals.length===2){settings.alt("lineAlign",vals[1],["start","middle","end"])}break;case"position":vals=v.split(",");settings.percent(k,vals[0]);if(vals.length===2){settings.alt("positionAlign",vals[1],["start","middle","end"])}break;case"size":settings.percent(k,v);break;case"align":settings.alt(k,v,["start","middle","end","left","right"]);break}},/:/,/\s/);cue.region=settings.get("region",null);cue.vertical=settings.get("vertical","");cue.line=settings.get("line","auto");cue.lineAlign=settings.get("lineAlign","start");cue.snapToLines=settings.get("snapToLines",true);cue.size=settings.get("size",100);cue.align=settings.get("align","middle");cue.position=settings.get("position",{start:0,left:0,middle:50,end:100,right:100},cue.align);cue.positionAlign=settings.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},cue.align)}function skipWhitespace(){input=input.replace(/^\s+/,"")}skipWhitespace();cue.startTime=consumeTimeStamp();skipWhitespace();if(input.substr(0,3)!=="-->"){throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+oInput);}input=input.substr(3);skipWhitespace();cue.endTime=consumeTimeStamp();skipWhitespace();consumeCueSettings(input,cue)}var ESCAPE={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200e","&rlm;":"\u200f","&nbsp;":"\u00a0"};var TAG_NAME={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"};var TAG_ANNOTATION={v:"title",lang:"lang"};var NEEDS_PARENT={rt:"ruby"};function parseContent(window,input){function nextToken(){if(!input){return null}function consume(result){input=input.substr(result.length);return result}var m=input.match(/^([^<]*)(<[^>]+>?)?/);return consume(m[1]?m[1]:m[2])}function unescape1(e){return ESCAPE[e]}function unescape(s){while((m=s.match(/&(amp|lt|gt|lrm|rlm|nbsp);/))){s=s.replace(m[0],unescape1)}return s}function shouldAdd(current,element){return!NEEDS_PARENT[element.localName]||NEEDS_PARENT[element.localName]===current.localName}function createElement(type,annotation){var tagName=TAG_NAME[type];if(!tagName){return null}var element=window.document.createElement(tagName);element.localName=tagName;var name=TAG_ANNOTATION[type];if(name&&annotation){element[name]=annotation.trim()}return element}var rootDiv=window.document.createElement("div"),current=rootDiv,t,tagStack=[];while((t=nextToken())!==null){if(t[0]==='<'){if(t[1]==="/"){if(tagStack.length&&tagStack[tagStack.length-1]===t.substr(2).replace(">","")){tagStack.pop();current=current.parentNode}continue}var ts=parseTimeStamp(t.substr(1,t.length-2));var node;if(ts){node=window.document.createProcessingInstruction("timestamp",ts);current.appendChild(node);continue}var m=t.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!m){continue}node=createElement(m[1],m[3]);if(!node){continue}if(!shouldAdd(current,node)){continue}if(m[2]){node.className=m[2].substr(1).replace('.',' ')}tagStack.push(m[1]);current.appendChild(node);current=node;continue}current.appendChild(window.document.createTextNode(unescape(t)))}return rootDiv}var strongRTLChars=[0x05BE,0x05C0,0x05C3,0x05C6,0x05D0,0x05D1,0x05D2,0x05D3,0x05D4,0x05D5,0x05D6,0x05D7,0x05D8,0x05D9,0x05DA,0x05DB,0x05DC,0x05DD,0x05DE,0x05DF,0x05E0,0x05E1,0x05E2,0x05E3,0x05E4,0x05E5,0x05E6,0x05E7,0x05E8,0x05E9,0x05EA,0x05F0,0x05F1,0x05F2,0x05F3,0x05F4,0x0608,0x060B,0x060D,0x061B,0x061E,0x061F,0x0620,0x0621,0x0622,0x0623,0x0624,0x0625,0x0626,0x0627,0x0628,0x0629,0x062A,0x062B,0x062C,0x062D,0x062E,0x062F,0x0630,0x0631,0x0632,0x0633,0x0634,0x0635,0x0636,0x0637,0x0638,0x0639,0x063A,0x063B,0x063C,0x063D,0x063E,0x063F,0x0640,0x0641,0x0642,0x0643,0x0644,0x0645,0x0646,0x0647,0x0648,0x0649,0x064A,0x066D,0x066E,0x066F,0x0671,0x0672,0x0673,0x0674,0x0675,0x0676,0x0677,0x0678,0x0679,0x067A,0x067B,0x067C,0x067D,0x067E,0x067F,0x0680,0x0681,0x0682,0x0683,0x0684,0x0685,0x0686,0x0687,0x0688,0x0689,0x068A,0x068B,0x068C,0x068D,0x068E,0x068F,0x0690,0x0691,0x0692,0x0693,0x0694,0x0695,0x0696,0x0697,0x0698,0x0699,0x069A,0x069B,0x069C,0x069D,0x069E,0x069F,0x06A0,0x06A1,0x06A2,0x06A3,0x06A4,0x06A5,0x06A6,0x06A7,0x06A8,0x06A9,0x06AA,0x06AB,0x06AC,0x06AD,0x06AE,0x06AF,0x06B0,0x06B1,0x06B2,0x06B3,0x06B4,0x06B5,0x06B6,0x06B7,0x06B8,0x06B9,0x06BA,0x06BB,0x06BC,0x06BD,0x06BE,0x06BF,0x06C0,0x06C1,0x06C2,0x06C3,0x06C4,0x06C5,0x06C6,0x06C7,0x06C8,0x06C9,0x06CA,0x06CB,0x06CC,0x06CD,0x06CE,0x06CF,0x06D0,0x06D1,0x06D2,0x06D3,0x06D4,0x06D5,0x06E5,0x06E6,0x06EE,0x06EF,0x06FA,0x06FB,0x06FC,0x06FD,0x06FE,0x06FF,0x0700,0x0701,0x0702,0x0703,0x0704,0x0705,0x0706,0x0707,0x0708,0x0709,0x070A,0x070B,0x070C,0x070D,0x070F,0x0710,0x0712,0x0713,0x0714,0x0715,0x0716,0x0717,0x0718,0x0719,0x071A,0x071B,0x071C,0x071D,0x071E,0x071F,0x0720,0x0721,0x0722,0x0723,0x0724,0x0725,0x0726,0x0727,0x0728,0x0729,0x072A,0x072B,0x072C,0x072D,0x072E,0x072F,0x074D,0x074E,0x074F,0x0750,0x0751,0x0752,0x0753,0x0754,0x0755,0x0756,0x0757,0x0758,0x0759,0x075A,0x075B,0x075C,0x075D,0x075E,0x075F,0x0760,0x0761,0x0762,0x0763,0x0764,0x0765,0x0766,0x0767,0x0768,0x0769,0x076A,0x076B,0x076C,0x076D,0x076E,0x076F,0x0770,0x0771,0x0772,0x0773,0x0774,0x0775,0x0776,0x0777,0x0778,0x0779,0x077A,0x077B,0x077C,0x077D,0x077E,0x077F,0x0780,0x0781,0x0782,0x0783,0x0784,0x0785,0x0786,0x0787,0x0788,0x0789,0x078A,0x078B,0x078C,0x078D,0x078E,0x078F,0x0790,0x0791,0x0792,0x0793,0x0794,0x0795,0x0796,0x0797,0x0798,0x0799,0x079A,0x079B,0x079C,0x079D,0x079E,0x079F,0x07A0,0x07A1,0x07A2,0x07A3,0x07A4,0x07A5,0x07B1,0x07C0,0x07C1,0x07C2,0x07C3,0x07C4,0x07C5,0x07C6,0x07C7,0x07C8,0x07C9,0x07CA,0x07CB,0x07CC,0x07CD,0x07CE,0x07CF,0x07D0,0x07D1,0x07D2,0x07D3,0x07D4,0x07D5,0x07D6,0x07D7,0x07D8,0x07D9,0x07DA,0x07DB,0x07DC,0x07DD,0x07DE,0x07DF,0x07E0,0x07E1,0x07E2,0x07E3,0x07E4,0x07E5,0x07E6,0x07E7,0x07E8,0x07E9,0x07EA,0x07F4,0x07F5,0x07FA,0x0800,0x0801,0x0802,0x0803,0x0804,0x0805,0x0806,0x0807,0x0808,0x0809,0x080A,0x080B,0x080C,0x080D,0x080E,0x080F,0x0810,0x0811,0x0812,0x0813,0x0814,0x0815,0x081A,0x0824,0x0828,0x0830,0x0831,0x0832,0x0833,0x0834,0x0835,0x0836,0x0837,0x0838,0x0839,0x083A,0x083B,0x083C,0x083D,0x083E,0x0840,0x0841,0x0842,0x0843,0x0844,0x0845,0x0846,0x0847,0x0848,0x0849,0x084A,0x084B,0x084C,0x084D,0x084E,0x084F,0x0850,0x0851,0x0852,0x0853,0x0854,0x0855,0x0856,0x0857,0x0858,0x085E,0x08A0,0x08A2,0x08A3,0x08A4,0x08A5,0x08A6,0x08A7,0x08A8,0x08A9,0x08AA,0x08AB,0x08AC,0x200F,0xFB1D,0xFB1F,0xFB20,0xFB21,0xFB22,0xFB23,0xFB24,0xFB25,0xFB26,0xFB27,0xFB28,0xFB2A,0xFB2B,0xFB2C,0xFB2D,0xFB2E,0xFB2F,0xFB30,0xFB31,0xFB32,0xFB33,0xFB34,0xFB35,0xFB36,0xFB38,0xFB39,0xFB3A,0xFB3B,0xFB3C,0xFB3E,0xFB40,0xFB41,0xFB43,0xFB44,0xFB46,0xFB47,0xFB48,0xFB49,0xFB4A,0xFB4B,0xFB4C,0xFB4D,0xFB4E,0xFB4F,0xFB50,0xFB51,0xFB52,0xFB53,0xFB54,0xFB55,0xFB56,0xFB57,0xFB58,0xFB59,0xFB5A,0xFB5B,0xFB5C,0xFB5D,0xFB5E,0xFB5F,0xFB60,0xFB61,0xFB62,0xFB63,0xFB64,0xFB65,0xFB66,0xFB67,0xFB68,0xFB69,0xFB6A,0xFB6B,0xFB6C,0xFB6D,0xFB6E,0xFB6F,0xFB70,0xFB71,0xFB72,0xFB73,0xFB74,0xFB75,0xFB76,0xFB77,0xFB78,0xFB79,0xFB7A,0xFB7B,0xFB7C,0xFB7D,0xFB7E,0xFB7F,0xFB80,0xFB81,0xFB82,0xFB83,0xFB84,0xFB85,0xFB86,0xFB87,0xFB88,0xFB89,0xFB8A,0xFB8B,0xFB8C,0xFB8D,0xFB8E,0xFB8F,0xFB90,0xFB91,0xFB92,0xFB93,0xFB94,0xFB95,0xFB96,0xFB97,0xFB98,0xFB99,0xFB9A,0xFB9B,0xFB9C,0xFB9D,0xFB9E,0xFB9F,0xFBA0,0xFBA1,0xFBA2,0xFBA3,0xFBA4,0xFBA5,0xFBA6,0xFBA7,0xFBA8,0xFBA9,0xFBAA,0xFBAB,0xFBAC,0xFBAD,0xFBAE,0xFBAF,0xFBB0,0xFBB1,0xFBB2,0xFBB3,0xFBB4,0xFBB5,0xFBB6,0xFBB7,0xFBB8,0xFBB9,0xFBBA,0xFBBB,0xFBBC,0xFBBD,0xFBBE,0xFBBF,0xFBC0,0xFBC1,0xFBD3,0xFBD4,0xFBD5,0xFBD6,0xFBD7,0xFBD8,0xFBD9,0xFBDA,0xFBDB,0xFBDC,0xFBDD,0xFBDE,0xFBDF,0xFBE0,0xFBE1,0xFBE2,0xFBE3,0xFBE4,0xFBE5,0xFBE6,0xFBE7,0xFBE8,0xFBE9,0xFBEA,0xFBEB,0xFBEC,0xFBED,0xFBEE,0xFBEF,0xFBF0,0xFBF1,0xFBF2,0xFBF3,0xFBF4,0xFBF5,0xFBF6,0xFBF7,0xFBF8,0xFBF9,0xFBFA,0xFBFB,0xFBFC,0xFBFD,0xFBFE,0xFBFF,0xFC00,0xFC01,0xFC02,0xFC03,0xFC04,0xFC05,0xFC06,0xFC07,0xFC08,0xFC09,0xFC0A,0xFC0B,0xFC0C,0xFC0D,0xFC0E,0xFC0F,0xFC10,0xFC11,0xFC12,0xFC13,0xFC14,0xFC15,0xFC16,0xFC17,0xFC18,0xFC19,0xFC1A,0xFC1B,0xFC1C,0xFC1D,0xFC1E,0xFC1F,0xFC20,0xFC21,0xFC22,0xFC23,0xFC24,0xFC25,0xFC26,0xFC27,0xFC28,0xFC29,0xFC2A,0xFC2B,0xFC2C,0xFC2D,0xFC2E,0xFC2F,0xFC30,0xFC31,0xFC32,0xFC33,0xFC34,0xFC35,0xFC36,0xFC37,0xFC38,0xFC39,0xFC3A,0xFC3B,0xFC3C,0xFC3D,0xFC3E,0xFC3F,0xFC40,0xFC41,0xFC42,0xFC43,0xFC44,0xFC45,0xFC46,0xFC47,0xFC48,0xFC49,0xFC4A,0xFC4B,0xFC4C,0xFC4D,0xFC4E,0xFC4F,0xFC50,0xFC51,0xFC52,0xFC53,0xFC54,0xFC55,0xFC56,0xFC57,0xFC58,0xFC59,0xFC5A,0xFC5B,0xFC5C,0xFC5D,0xFC5E,0xFC5F,0xFC60,0xFC61,0xFC62,0xFC63,0xFC64,0xFC65,0xFC66,0xFC67,0xFC68,0xFC69,0xFC6A,0xFC6B,0xFC6C,0xFC6D,0xFC6E,0xFC6F,0xFC70,0xFC71,0xFC72,0xFC73,0xFC74,0xFC75,0xFC76,0xFC77,0xFC78,0xFC79,0xFC7A,0xFC7B,0xFC7C,0xFC7D,0xFC7E,0xFC7F,0xFC80,0xFC81,0xFC82,0xFC83,0xFC84,0xFC85,0xFC86,0xFC87,0xFC88,0xFC89,0xFC8A,0xFC8B,0xFC8C,0xFC8D,0xFC8E,0xFC8F,0xFC90,0xFC91,0xFC92,0xFC93,0xFC94,0xFC95,0xFC96,0xFC97,0xFC98,0xFC99,0xFC9A,0xFC9B,0xFC9C,0xFC9D,0xFC9E,0xFC9F,0xFCA0,0xFCA1,0xFCA2,0xFCA3,0xFCA4,0xFCA5,0xFCA6,0xFCA7,0xFCA8,0xFCA9,0xFCAA,0xFCAB,0xFCAC,0xFCAD,0xFCAE,0xFCAF,0xFCB0,0xFCB1,0xFCB2,0xFCB3,0xFCB4,0xFCB5,0xFCB6,0xFCB7,0xFCB8,0xFCB9,0xFCBA,0xFCBB,0xFCBC,0xFCBD,0xFCBE,0xFCBF,0xFCC0,0xFCC1,0xFCC2,0xFCC3,0xFCC4,0xFCC5,0xFCC6,0xFCC7,0xFCC8,0xFCC9,0xFCCA,0xFCCB,0xFCCC,0xFCCD,0xFCCE,0xFCCF,0xFCD0,0xFCD1,0xFCD2,0xFCD3,0xFCD4,0xFCD5,0xFCD6,0xFCD7,0xFCD8,0xFCD9,0xFCDA,0xFCDB,0xFCDC,0xFCDD,0xFCDE,0xFCDF,0xFCE0,0xFCE1,0xFCE2,0xFCE3,0xFCE4,0xFCE5,0xFCE6,0xFCE7,0xFCE8,0xFCE9,0xFCEA,0xFCEB,0xFCEC,0xFCED,0xFCEE,0xFCEF,0xFCF0,0xFCF1,0xFCF2,0xFCF3,0xFCF4,0xFCF5,0xFCF6,0xFCF7,0xFCF8,0xFCF9,0xFCFA,0xFCFB,0xFCFC,0xFCFD,0xFCFE,0xFCFF,0xFD00,0xFD01,0xFD02,0xFD03,0xFD04,0xFD05,0xFD06,0xFD07,0xFD08,0xFD09,0xFD0A,0xFD0B,0xFD0C,0xFD0D,0xFD0E,0xFD0F,0xFD10,0xFD11,0xFD12,0xFD13,0xFD14,0xFD15,0xFD16,0xFD17,0xFD18,0xFD19,0xFD1A,0xFD1B,0xFD1C,0xFD1D,0xFD1E,0xFD1F,0xFD20,0xFD21,0xFD22,0xFD23,0xFD24,0xFD25,0xFD26,0xFD27,0xFD28,0xFD29,0xFD2A,0xFD2B,0xFD2C,0xFD2D,0xFD2E,0xFD2F,0xFD30,0xFD31,0xFD32,0xFD33,0xFD34,0xFD35,0xFD36,0xFD37,0xFD38,0xFD39,0xFD3A,0xFD3B,0xFD3C,0xFD3D,0xFD50,0xFD51,0xFD52,0xFD53,0xFD54,0xFD55,0xFD56,0xFD57,0xFD58,0xFD59,0xFD5A,0xFD5B,0xFD5C,0xFD5D,0xFD5E,0xFD5F,0xFD60,0xFD61,0xFD62,0xFD63,0xFD64,0xFD65,0xFD66,0xFD67,0xFD68,0xFD69,0xFD6A,0xFD6B,0xFD6C,0xFD6D,0xFD6E,0xFD6F,0xFD70,0xFD71,0xFD72,0xFD73,0xFD74,0xFD75,0xFD76,0xFD77,0xFD78,0xFD79,0xFD7A,0xFD7B,0xFD7C,0xFD7D,0xFD7E,0xFD7F,0xFD80,0xFD81,0xFD82,0xFD83,0xFD84,0xFD85,0xFD86,0xFD87,0xFD88,0xFD89,0xFD8A,0xFD8B,0xFD8C,0xFD8D,0xFD8E,0xFD8F,0xFD92,0xFD93,0xFD94,0xFD95,0xFD96,0xFD97,0xFD98,0xFD99,0xFD9A,0xFD9B,0xFD9C,0xFD9D,0xFD9E,0xFD9F,0xFDA0,0xFDA1,0xFDA2,0xFDA3,0xFDA4,0xFDA5,0xFDA6,0xFDA7,0xFDA8,0xFDA9,0xFDAA,0xFDAB,0xFDAC,0xFDAD,0xFDAE,0xFDAF,0xFDB0,0xFDB1,0xFDB2,0xFDB3,0xFDB4,0xFDB5,0xFDB6,0xFDB7,0xFDB8,0xFDB9,0xFDBA,0xFDBB,0xFDBC,0xFDBD,0xFDBE,0xFDBF,0xFDC0,0xFDC1,0xFDC2,0xFDC3,0xFDC4,0xFDC5,0xFDC6,0xFDC7,0xFDF0,0xFDF1,0xFDF2,0xFDF3,0xFDF4,0xFDF5,0xFDF6,0xFDF7,0xFDF8,0xFDF9,0xFDFA,0xFDFB,0xFDFC,0xFE70,0xFE71,0xFE72,0xFE73,0xFE74,0xFE76,0xFE77,0xFE78,0xFE79,0xFE7A,0xFE7B,0xFE7C,0xFE7D,0xFE7E,0xFE7F,0xFE80,0xFE81,0xFE82,0xFE83,0xFE84,0xFE85,0xFE86,0xFE87,0xFE88,0xFE89,0xFE8A,0xFE8B,0xFE8C,0xFE8D,0xFE8E,0xFE8F,0xFE90,0xFE91,0xFE92,0xFE93,0xFE94,0xFE95,0xFE96,0xFE97,0xFE98,0xFE99,0xFE9A,0xFE9B,0xFE9C,0xFE9D,0xFE9E,0xFE9F,0xFEA0,0xFEA1,0xFEA2,0xFEA3,0xFEA4,0xFEA5,0xFEA6,0xFEA7,0xFEA8,0xFEA9,0xFEAA,0xFEAB,0xFEAC,0xFEAD,0xFEAE,0xFEAF,0xFEB0,0xFEB1,0xFEB2,0xFEB3,0xFEB4,0xFEB5,0xFEB6,0xFEB7,0xFEB8,0xFEB9,0xFEBA,0xFEBB,0xFEBC,0xFEBD,0xFEBE,0xFEBF,0xFEC0,0xFEC1,0xFEC2,0xFEC3,0xFEC4,0xFEC5,0xFEC6,0xFEC7,0xFEC8,0xFEC9,0xFECA,0xFECB,0xFECC,0xFECD,0xFECE,0xFECF,0xFED0,0xFED1,0xFED2,0xFED3,0xFED4,0xFED5,0xFED6,0xFED7,0xFED8,0xFED9,0xFEDA,0xFEDB,0xFEDC,0xFEDD,0xFEDE,0xFEDF,0xFEE0,0xFEE1,0xFEE2,0xFEE3,0xFEE4,0xFEE5,0xFEE6,0xFEE7,0xFEE8,0xFEE9,0xFEEA,0xFEEB,0xFEEC,0xFEED,0xFEEE,0xFEEF,0xFEF0,0xFEF1,0xFEF2,0xFEF3,0xFEF4,0xFEF5,0xFEF6,0xFEF7,0xFEF8,0xFEF9,0xFEFA,0xFEFB,0xFEFC,0x10800,0x10801,0x10802,0x10803,0x10804,0x10805,0x10808,0x1080A,0x1080B,0x1080C,0x1080D,0x1080E,0x1080F,0x10810,0x10811,0x10812,0x10813,0x10814,0x10815,0x10816,0x10817,0x10818,0x10819,0x1081A,0x1081B,0x1081C,0x1081D,0x1081E,0x1081F,0x10820,0x10821,0x10822,0x10823,0x10824,0x10825,0x10826,0x10827,0x10828,0x10829,0x1082A,0x1082B,0x1082C,0x1082D,0x1082E,0x1082F,0x10830,0x10831,0x10832,0x10833,0x10834,0x10835,0x10837,0x10838,0x1083C,0x1083F,0x10840,0x10841,0x10842,0x10843,0x10844,0x10845,0x10846,0x10847,0x10848,0x10849,0x1084A,0x1084B,0x1084C,0x1084D,0x1084E,0x1084F,0x10850,0x10851,0x10852,0x10853,0x10854,0x10855,0x10857,0x10858,0x10859,0x1085A,0x1085B,0x1085C,0x1085D,0x1085E,0x1085F,0x10900,0x10901,0x10902,0x10903,0x10904,0x10905,0x10906,0x10907,0x10908,0x10909,0x1090A,0x1090B,0x1090C,0x1090D,0x1090E,0x1090F,0x10910,0x10911,0x10912,0x10913,0x10914,0x10915,0x10916,0x10917,0x10918,0x10919,0x1091A,0x1091B,0x10920,0x10921,0x10922,0x10923,0x10924,0x10925,0x10926,0x10927,0x10928,0x10929,0x1092A,0x1092B,0x1092C,0x1092D,0x1092E,0x1092F,0x10930,0x10931,0x10932,0x10933,0x10934,0x10935,0x10936,0x10937,0x10938,0x10939,0x1093F,0x10980,0x10981,0x10982,0x10983,0x10984,0x10985,0x10986,0x10987,0x10988,0x10989,0x1098A,0x1098B,0x1098C,0x1098D,0x1098E,0x1098F,0x10990,0x10991,0x10992,0x10993,0x10994,0x10995,0x10996,0x10997,0x10998,0x10999,0x1099A,0x1099B,0x1099C,0x1099D,0x1099E,0x1099F,0x109A0,0x109A1,0x109A2,0x109A3,0x109A4,0x109A5,0x109A6,0x109A7,0x109A8,0x109A9,0x109AA,0x109AB,0x109AC,0x109AD,0x109AE,0x109AF,0x109B0,0x109B1,0x109B2,0x109B3,0x109B4,0x109B5,0x109B6,0x109B7,0x109BE,0x109BF,0x10A00,0x10A10,0x10A11,0x10A12,0x10A13,0x10A15,0x10A16,0x10A17,0x10A19,0x10A1A,0x10A1B,0x10A1C,0x10A1D,0x10A1E,0x10A1F,0x10A20,0x10A21,0x10A22,0x10A23,0x10A24,0x10A25,0x10A26,0x10A27,0x10A28,0x10A29,0x10A2A,0x10A2B,0x10A2C,0x10A2D,0x10A2E,0x10A2F,0x10A30,0x10A31,0x10A32,0x10A33,0x10A40,0x10A41,0x10A42,0x10A43,0x10A44,0x10A45,0x10A46,0x10A47,0x10A50,0x10A51,0x10A52,0x10A53,0x10A54,0x10A55,0x10A56,0x10A57,0x10A58,0x10A60,0x10A61,0x10A62,0x10A63,0x10A64,0x10A65,0x10A66,0x10A67,0x10A68,0x10A69,0x10A6A,0x10A6B,0x10A6C,0x10A6D,0x10A6E,0x10A6F,0x10A70,0x10A71,0x10A72,0x10A73,0x10A74,0x10A75,0x10A76,0x10A77,0x10A78,0x10A79,0x10A7A,0x10A7B,0x10A7C,0x10A7D,0x10A7E,0x10A7F,0x10B00,0x10B01,0x10B02,0x10B03,0x10B04,0x10B05,0x10B06,0x10B07,0x10B08,0x10B09,0x10B0A,0x10B0B,0x10B0C,0x10B0D,0x10B0E,0x10B0F,0x10B10,0x10B11,0x10B12,0x10B13,0x10B14,0x10B15,0x10B16,0x10B17,0x10B18,0x10B19,0x10B1A,0x10B1B,0x10B1C,0x10B1D,0x10B1E,0x10B1F,0x10B20,0x10B21,0x10B22,0x10B23,0x10B24,0x10B25,0x10B26,0x10B27,0x10B28,0x10B29,0x10B2A,0x10B2B,0x10B2C,0x10B2D,0x10B2E,0x10B2F,0x10B30,0x10B31,0x10B32,0x10B33,0x10B34,0x10B35,0x10B40,0x10B41,0x10B42,0x10B43,0x10B44,0x10B45,0x10B46,0x10B47,0x10B48,0x10B49,0x10B4A,0x10B4B,0x10B4C,0x10B4D,0x10B4E,0x10B4F,0x10B50,0x10B51,0x10B52,0x10B53,0x10B54,0x10B55,0x10B58,0x10B59,0x10B5A,0x10B5B,0x10B5C,0x10B5D,0x10B5E,0x10B5F,0x10B60,0x10B61,0x10B62,0x10B63,0x10B64,0x10B65,0x10B66,0x10B67,0x10B68,0x10B69,0x10B6A,0x10B6B,0x10B6C,0x10B6D,0x10B6E,0x10B6F,0x10B70,0x10B71,0x10B72,0x10B78,0x10B79,0x10B7A,0x10B7B,0x10B7C,0x10B7D,0x10B7E,0x10B7F,0x10C00,0x10C01,0x10C02,0x10C03,0x10C04,0x10C05,0x10C06,0x10C07,0x10C08,0x10C09,0x10C0A,0x10C0B,0x10C0C,0x10C0D,0x10C0E,0x10C0F,0x10C10,0x10C11,0x10C12,0x10C13,0x10C14,0x10C15,0x10C16,0x10C17,0x10C18,0x10C19,0x10C1A,0x10C1B,0x10C1C,0x10C1D,0x10C1E,0x10C1F,0x10C20,0x10C21,0x10C22,0x10C23,0x10C24,0x10C25,0x10C26,0x10C27,0x10C28,0x10C29,0x10C2A,0x10C2B,0x10C2C,0x10C2D,0x10C2E,0x10C2F,0x10C30,0x10C31,0x10C32,0x10C33,0x10C34,0x10C35,0x10C36,0x10C37,0x10C38,0x10C39,0x10C3A,0x10C3B,0x10C3C,0x10C3D,0x10C3E,0x10C3F,0x10C40,0x10C41,0x10C42,0x10C43,0x10C44,0x10C45,0x10C46,0x10C47,0x10C48,0x1EE00,0x1EE01,0x1EE02,0x1EE03,0x1EE05,0x1EE06,0x1EE07,0x1EE08,0x1EE09,0x1EE0A,0x1EE0B,0x1EE0C,0x1EE0D,0x1EE0E,0x1EE0F,0x1EE10,0x1EE11,0x1EE12,0x1EE13,0x1EE14,0x1EE15,0x1EE16,0x1EE17,0x1EE18,0x1EE19,0x1EE1A,0x1EE1B,0x1EE1C,0x1EE1D,0x1EE1E,0x1EE1F,0x1EE21,0x1EE22,0x1EE24,0x1EE27,0x1EE29,0x1EE2A,0x1EE2B,0x1EE2C,0x1EE2D,0x1EE2E,0x1EE2F,0x1EE30,0x1EE31,0x1EE32,0x1EE34,0x1EE35,0x1EE36,0x1EE37,0x1EE39,0x1EE3B,0x1EE42,0x1EE47,0x1EE49,0x1EE4B,0x1EE4D,0x1EE4E,0x1EE4F,0x1EE51,0x1EE52,0x1EE54,0x1EE57,0x1EE59,0x1EE5B,0x1EE5D,0x1EE5F,0x1EE61,0x1EE62,0x1EE64,0x1EE67,0x1EE68,0x1EE69,0x1EE6A,0x1EE6C,0x1EE6D,0x1EE6E,0x1EE6F,0x1EE70,0x1EE71,0x1EE72,0x1EE74,0x1EE75,0x1EE76,0x1EE77,0x1EE79,0x1EE7A,0x1EE7B,0x1EE7C,0x1EE7E,0x1EE80,0x1EE81,0x1EE82,0x1EE83,0x1EE84,0x1EE85,0x1EE86,0x1EE87,0x1EE88,0x1EE89,0x1EE8B,0x1EE8C,0x1EE8D,0x1EE8E,0x1EE8F,0x1EE90,0x1EE91,0x1EE92,0x1EE93,0x1EE94,0x1EE95,0x1EE96,0x1EE97,0x1EE98,0x1EE99,0x1EE9A,0x1EE9B,0x1EEA1,0x1EEA2,0x1EEA3,0x1EEA5,0x1EEA6,0x1EEA7,0x1EEA8,0x1EEA9,0x1EEAB,0x1EEAC,0x1EEAD,0x1EEAE,0x1EEAF,0x1EEB0,0x1EEB1,0x1EEB2,0x1EEB3,0x1EEB4,0x1EEB5,0x1EEB6,0x1EEB7,0x1EEB8,0x1EEB9,0x1EEBA,0x1EEBB,0x10FFFD];function determineBidi(cueDiv){var nodeStack=[],text="",charCode;if(!cueDiv||!cueDiv.childNodes){return"ltr"}function pushNodes(nodeStack,node){for(var i=node.childNodes.length-1;i>=0;i--){nodeStack.push(node.childNodes[i])}}function nextTextNode(nodeStack){if(!nodeStack||!nodeStack.length){return null}var node=nodeStack.pop(),text=node.textContent||node.innerText;if(text){var m=text.match(/^.*(\n|\r)/);if(m){nodeStack.length=0;return m[0]}return text}if(node.tagName==="ruby"){return nextTextNode(nodeStack)}if(node.childNodes){pushNodes(nodeStack,node);return nextTextNode(nodeStack)}}pushNodes(nodeStack,cueDiv);while((text=nextTextNode(nodeStack))){for(var i=0;i<text.length;i++){charCode=text.charCodeAt(i);for(var j=0;j<strongRTLChars.length;j++){if(strongRTLChars[j]===charCode){return"rtl"}}}}return"ltr"}function computeLinePos(cue){if(typeof cue.line==="number"&&(cue.snapToLines||(cue.line>=0&&cue.line<=100))){return cue.line}if(!cue.track||!cue.track.textTrackList||!cue.track.textTrackList.mediaElement){return-1}var track=cue.track,trackList=track.textTrackList,count=0;for(var i=0;i<trackList.length&&trackList[i]!==track;i++){if(trackList[i].mode==="showing"){count++}}return++count*-1}function StyleBox(){}StyleBox.prototype.applyStyles=function(styles,div){div=div||this.div;for(var prop in styles){if(styles.hasOwnProperty(prop)){div.style[prop]=styles[prop]}}};StyleBox.prototype.formatStyle=function(val,unit){return val===0?0:val+unit};function CueStyleBox(window,cue,styleOptions){var isIE8=(/MSIE\s8\.0/).test(navigator.userAgent);var color="rgba(255, 255, 255, 1)";var backgroundColor="rgba(0, 0, 0, 0.8)";if(isIE8){color="rgb(255, 255, 255)";backgroundColor="rgb(0, 0, 0)"}StyleBox.call(this);this.cue=cue;this.cueDiv=parseContent(window,cue.text);var styles={color:color,backgroundColor:backgroundColor,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};if(!isIE8){styles.writingMode=cue.vertical===""?"horizontal-tb":cue.vertical==="lr"?"vertical-lr":"vertical-rl";styles.unicodeBidi="plaintext"}this.applyStyles(styles,this.cueDiv);this.div=window.document.createElement("div");styles={textAlign:cue.align==="middle"?"center":cue.align,font:styleOptions.font,whiteSpace:"pre-line",position:"absolute"};if(!isIE8){styles.direction=determineBidi(this.cueDiv);styles.writingMode=cue.vertical===""?"horizontal-tb":cue.vertical==="lr"?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"}this.applyStyles(styles);this.div.appendChild(this.cueDiv);var textPos=0;switch(cue.positionAlign){case"start":textPos=cue.position;break;case"middle":textPos=cue.position-(cue.size/2);break;case"end":textPos=cue.position-cue.size;break}if(cue.vertical===""){this.applyStyles({left:this.formatStyle(textPos,"%"),width:this.formatStyle(cue.size,"%")})}else{this.applyStyles({top:this.formatStyle(textPos,"%"),height:this.formatStyle(cue.size,"%")})}this.move=function(box){this.applyStyles({top:this.formatStyle(box.top,"px"),bottom:this.formatStyle(box.bottom,"px"),left:this.formatStyle(box.left,"px"),right:this.formatStyle(box.right,"px"),height:this.formatStyle(box.height,"px"),width:this.formatStyle(box.width,"px")})}}CueStyleBox.prototype=_objCreate(StyleBox.prototype);CueStyleBox.prototype.constructor=CueStyleBox;function BoxPosition(obj){var isIE8=(/MSIE\s8\.0/).test(navigator.userAgent);var lh,height,width,top;if(obj.div){height=obj.div.offsetHeight;width=obj.div.offsetWidth;top=obj.div.offsetTop;var rects=(rects=obj.div.childNodes)&&(rects=rects[0])&&rects.getClientRects&&rects.getClientRects();obj=obj.div.getBoundingClientRect();lh=rects?Math.max((rects[0]&&rects[0].height)||0,obj.height/rects.length):0}this.left=obj.left;this.right=obj.right;this.top=obj.top||top;this.height=obj.height||height;this.bottom=obj.bottom||(top+(obj.height||height));this.width=obj.width||width;this.lineHeight=lh!==undefined?lh:obj.lineHeight;if(isIE8&&!this.lineHeight){this.lineHeight=13}}BoxPosition.prototype.move=function(axis,toMove){toMove=toMove!==undefined?toMove:this.lineHeight;switch(axis){case"+x":this.left+=toMove;this.right+=toMove;break;case"-x":this.left-=toMove;this.right-=toMove;break;case"+y":this.top+=toMove;this.bottom+=toMove;break;case"-y":this.top-=toMove;this.bottom-=toMove;break}};BoxPosition.prototype.overlaps=function(b2){return this.left<b2.right&&this.right>b2.left&&this.top<b2.bottom&&this.bottom>b2.top};BoxPosition.prototype.overlapsAny=function(boxes){for(var i=0;i<boxes.length;i++){if(this.overlaps(boxes[i])){return true}}return false};BoxPosition.prototype.within=function(container){return this.top>=container.top&&this.bottom<=container.bottom&&this.left>=container.left&&this.right<=container.right};BoxPosition.prototype.overlapsOppositeAxis=function(container,axis){switch(axis){case"+x":return this.left<container.left;case"-x":return this.right>container.right;case"+y":return this.top<container.top;case"-y":return this.bottom>container.bottom}};BoxPosition.prototype.intersectPercentage=function(b2){var x=Math.max(0,Math.min(this.right,b2.right)-Math.max(this.left,b2.left)),y=Math.max(0,Math.min(this.bottom,b2.bottom)-Math.max(this.top,b2.top)),intersectArea=x*y;return intersectArea/(this.height*this.width)};BoxPosition.prototype.toCSSCompatValues=function(reference){return{top:this.top-reference.top,bottom:reference.bottom-this.bottom,left:this.left-reference.left,right:reference.right-this.right,height:this.height,width:this.width}};BoxPosition.getSimpleBoxPosition=function(obj){var height=obj.div?obj.div.offsetHeight:obj.tagName?obj.offsetHeight:0;var width=obj.div?obj.div.offsetWidth:obj.tagName?obj.offsetWidth:0;var top=obj.div?obj.div.offsetTop:obj.tagName?obj.offsetTop:0;obj=obj.div?obj.div.getBoundingClientRect():obj.tagName?obj.getBoundingClientRect():obj;var ret={left:obj.left,right:obj.right,top:obj.top||top,height:obj.height||height,bottom:obj.bottom||(top+(obj.height||height)),width:obj.width||width};return ret};function moveBoxToLinePosition(window,styleBox,containerBox,boxPositions){function findBestPosition(b,axis){var bestPosition,specifiedPosition=new BoxPosition(b),percentage=1;for(var i=0;i<axis.length;i++){while(b.overlapsOppositeAxis(containerBox,axis[i])||(b.within(containerBox)&&b.overlapsAny(boxPositions))){b.move(axis[i])}if(b.within(containerBox)){return b}var p=b.intersectPercentage(containerBox);if(percentage>p){bestPosition=new BoxPosition(b);percentage=p}b=new BoxPosition(specifiedPosition)}return bestPosition||specifiedPosition}var boxPosition=new BoxPosition(styleBox),cue=styleBox.cue,linePos=computeLinePos(cue),axis=[];if(cue.snapToLines){var size;switch(cue.vertical){case"":axis=["+y","-y"];size="height";break;case"rl":axis=["+x","-x"];size="width";break;case"lr":axis=["-x","+x"];size="width";break}var step=boxPosition.lineHeight,position=step*Math.round(linePos),maxPosition=containerBox[size]+step,initialAxis=axis[0];if(Math.abs(position)>maxPosition){position=position<0?-1:1;position*=Math.ceil(maxPosition/step)*step}if(linePos<0){position+=cue.vertical===""?containerBox.height:containerBox.width;axis=axis.reverse()}boxPosition.move(initialAxis,position)}else{var calculatedPercentage=(boxPosition.lineHeight/containerBox.height)*100;switch(cue.lineAlign){case"middle":linePos-=(calculatedPercentage/2);break;case"end":linePos-=calculatedPercentage;break}switch(cue.vertical){case"":styleBox.applyStyles({top:styleBox.formatStyle(linePos,"%")});break;case"rl":styleBox.applyStyles({left:styleBox.formatStyle(linePos,"%")});break;case"lr":styleBox.applyStyles({right:styleBox.formatStyle(linePos,"%")});break}axis=["+y","-x","+x","-y"];boxPosition=new BoxPosition(styleBox)}var bestPosition=findBestPosition(boxPosition,axis);styleBox.move(bestPosition.toCSSCompatValues(containerBox))}function WebVTT(){}WebVTT.StringDecoder=function(){return{decode:function(data){if(!data){return""}if(typeof data!=="string"){throw new Error("Error - expected string data.");}return decodeURIComponent(encodeURIComponent(data))}}};WebVTT.convertCueToDOMTree=function(window,cuetext){if(!window||!cuetext){return null}return parseContent(window,cuetext)};var FONT_SIZE_PERCENT=0.05;var FONT_STYLE="sans-serif";var CUE_BACKGROUND_PADDING="1.5%";WebVTT.processCues=function(window,cues,overlay){if(!window||!cues||!overlay){return null}while(overlay.firstChild){overlay.removeChild(overlay.firstChild)}var paddedOverlay=window.document.createElement("div");paddedOverlay.style.position="absolute";paddedOverlay.style.left="0";paddedOverlay.style.right="0";paddedOverlay.style.top="0";paddedOverlay.style.bottom="0";paddedOverlay.style.margin=CUE_BACKGROUND_PADDING;overlay.appendChild(paddedOverlay);function shouldCompute(cues){for(var i=0;i<cues.length;i++){if(cues[i].hasBeenReset||!cues[i].displayState){return true}}return false}if(!shouldCompute(cues)){for(var i=0;i<cues.length;i++){paddedOverlay.appendChild(cues[i].displayState)}return}var boxPositions=[],containerBox=BoxPosition.getSimpleBoxPosition(paddedOverlay),fontSize=Math.round(containerBox.height*FONT_SIZE_PERCENT*100)/100;var styleOptions={font:fontSize+"px "+FONT_STYLE};(function(){var styleBox,cue;for(var i=0;i<cues.length;i++){cue=cues[i];styleBox=new CueStyleBox(window,cue,styleOptions);paddedOverlay.appendChild(styleBox.div);moveBoxToLinePosition(window,styleBox,containerBox,boxPositions);cue.displayState=styleBox.div;boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox))}})()};WebVTT.Parser=function(window,vttjs,decoder){if(!decoder){decoder=vttjs;vttjs={}}if(!vttjs){vttjs={}}this.window=window;this.vttjs=vttjs;this.state="INITIAL";this.buffer="";this.decoder=decoder||new TextDecoder("utf8");this.regionList=[]};WebVTT.Parser.prototype={reportOrThrowError:function(e){if(e instanceof ParsingError){this.onparsingerror&&this.onparsingerror(e)}else{throw e;}},parse:function(data){var self=this;if(data){self.buffer+=self.decoder.decode(data,{stream:true})}function collectNextLine(){var buffer=self.buffer;var pos=0;while(pos<buffer.length&&buffer[pos]!=='\r'&&buffer[pos]!=='\n'){++pos}var line=buffer.substr(0,pos);if(buffer[pos]==='\r'){++pos}if(buffer[pos]==='\n'){++pos}self.buffer=buffer.substr(pos);return line}function parseRegion(input){var settings=new Settings();parseOptions(input,function(k,v){switch(k){case"id":settings.set(k,v);break;case"width":settings.percent(k,v);break;case"lines":settings.integer(k,v);break;case"regionanchor":case"viewportanchor":var xy=v.split(',');if(xy.length!==2){break}var anchor=new Settings();anchor.percent("x",xy[0]);anchor.percent("y",xy[1]);if(!anchor.has("x")||!anchor.has("y")){break}settings.set(k+"X",anchor.get("x"));settings.set(k+"Y",anchor.get("y"));break;case"scroll":settings.alt(k,v,["up"]);break}},/=/,/\s/);if(settings.has("id")){var region=new(self.vttjs.VTTRegion||self.window.VTTRegion)();region.width=settings.get("width",100);region.lines=settings.get("lines",3);region.regionAnchorX=settings.get("regionanchorX",0);region.regionAnchorY=settings.get("regionanchorY",100);region.viewportAnchorX=settings.get("viewportanchorX",0);region.viewportAnchorY=settings.get("viewportanchorY",100);region.scroll=settings.get("scroll","");self.onregion&&self.onregion(region);self.regionList.push({id:settings.get("id"),region:region})}}function parseHeader(input){parseOptions(input,function(k,v){switch(k){case"Region":parseRegion(v);break}},/:/)}try{var line;if(self.state==="INITIAL"){if(!/\r\n|\n/.test(self.buffer)){return this}line=collectNextLine();var m=line.match(/^WEBVTT([ \t].*)?$/);if(!m||!m[0]){throw new ParsingError(ParsingError.Errors.BadSignature);}self.state="HEADER"}var alreadyCollectedLine=false;while(self.buffer){if(!/\r\n|\n/.test(self.buffer)){return this}if(!alreadyCollectedLine){line=collectNextLine()}else{alreadyCollectedLine=false}switch(self.state){case"HEADER":if(/:/.test(line)){parseHeader(line)}else if(!line){self.state="ID"}continue;case"NOTE":if(!line){self.state="ID"}continue;case"ID":if(/^NOTE($|[ \t])/.test(line)){self.state="NOTE";break}if(!line){continue}self.cue=new(self.vttjs.VTTCue||self.window.VTTCue)(0,0,"");self.state="CUE";if(line.indexOf("-->")===-1){self.cue.id=line;continue}case"CUE":try{parseCue(line,self.cue,self.regionList)}catch(e){self.reportOrThrowError(e);self.cue=null;self.state="BADCUE";continue}self.state="CUETEXT";continue;case"CUETEXT":var hasSubstring=line.indexOf("-->")!==-1;if(!line||hasSubstring&&(alreadyCollectedLine=true)){self.oncue&&self.oncue(self.cue);self.cue=null;self.state="ID";continue}if(self.cue.text){self.cue.text+="\n"}self.cue.text+=line;continue;case"BADCUE":if(!line){self.state="ID"}continue}}}catch(e){self.reportOrThrowError(e);if(self.state==="CUETEXT"&&self.cue&&self.oncue){self.oncue(self.cue)}self.cue=null;self.state=self.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var self=this;try{self.buffer+=self.decoder.decode();if(self.cue||self.state==="HEADER"){self.buffer+="\n\n";self.parse()}if(self.state==="INITIAL"){throw new ParsingError(ParsingError.Errors.BadSignature);}}catch(e){self.reportOrThrowError(e)}self.onflush&&self.onflush();return this}};global.WebVTT=WebVTT}(this,(this.vttjs||{})));